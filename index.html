<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AnimeHub</title>
  <style>
    :root {
	  --bg: #0f1724;
	  --card: #0b1220;
	  --muted: #9ca3af;
	  --accent: #06b6d4;
	  --glass: rgba(255,255,255,0.04);
	}

	/* ğŸŒŒ Global */
	body {
	  margin: 0;
	  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
	  background: linear-gradient(180deg,#0b1220 0%, #061226 100%);
	  color: #e6eef6;
	  -webkit-font-smoothing: antialiased;
	  -moz-osx-font-smoothing: grayscale;
	  transition: background 0.3s ease;
	}

	/* Container */
	.container {
	  max-width: 1100px;
	  margin: 32px auto;
	  padding: 20px;
	}

	/* Header sticky avec blur */
	header {
	  display: flex;
	  align-items: center;
	  justify-content: space-between;
	  gap: 16px;
	  margin-bottom: 18px;
	  position: sticky;
	  top: 0;
	  z-index: 100;
	  background: linear-gradient(180deg, rgba(11,18,32,0.95) 0%, rgba(6,18,38,0.95) 100%);
	  backdrop-filter: blur(8px);
	  padding: 20px 40px;
	  flex-wrap: wrap;
	  transition: box-shadow 0.2s ease, background 0.2s ease;
	}
	header.sticky { box-shadow: 0 6px 20px rgba(0,0,0,0.6); }

	h1 { font-size: 28px; margin: 0; }
	p.lead { color: var(--muted); margin: 6px 0 0; font-size: 14px; }

	/* Controls recherche / filtres */
	.controls { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
	.search-wrap { position: relative; }
	.search-wrap svg { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); opacity: 0.8; }
	input.search {
	  padding: 10px 12px 10px 36px;
	  border-radius: 10px;
	  border: 1px solid rgba(255,255,255,0.06);
	  background: var(--glass);
	  color: inherit;
	  min-width: 220px;
	  transition: 0.3s;
	  box-shadow: 0 0 4px rgba(255,255,255,0.1);
	}
	input.search:focus { border-color: var(--accent); box-shadow: 0 0 12px rgba(6,182,212,0.3); outline: none; }
	.select, .select-sm {
	  padding: 10px 12px;
	  border-radius: 10px;
	  background: var(--glass);
	  border: 1px solid rgba(255,255,255,0.06);
	  color: inherit;
	  transition: 0.3s;
	  box-shadow: 0 0 4px rgba(255,255,255,0.1);
	}
	.select:hover, .select-sm:hover { border-color: var(--accent); box-shadow: 0 0 10px rgba(6,182,212,0.25); }
	.select option, .select-sm option { color: #e6eef6; background-color: var(--card); }
	@media (max-width:720px) {
		.controls > select, input.search { flex: 1 1 100%; }
	}
	/* Grid cartes anime */
	.grid {
	  display: grid;
	  grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
	  gap: 16px;
	  margin-top: 18px;
	}

	/* Cartes anime avec hover nÃ©on */
	.card {
	  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));
	  border-radius: 14px;
	  overflow: hidden;
	  box-shadow: 0 6px 18px rgba(6,182,212,0.4);
	  transition: transform 0.2s ease, box-shadow 0.2s ease;
	  position: relative;
	}
	.card:hover {
	  transform: translateY(-4px) rotateZ(-0.2deg);;
	  box-shadow: 0 12px 30px rgba(6,182,212,0.6), 0 0 20px rgba(6,182,212,0.25);
	}
	.card img { width: 100%; aspect-ratio: 2/3; object-fit: cover; display: block; background: #111; transition: 0.3s; }
	.card:hover img { filter: brightness(1.1); }

	/* Card content */
	.card-body { padding: 14px; }
	.title { font-weight: 700; font-size: 16px; margin: 8px 0 6px; transition: color 0.3s; }
	.card:hover .title { color: var(--accent); }
	.genres { font-size: 12px; color: var(--muted); }
	.meta { display: flex; justify-content: space-between; align-items: center; gap: 8px; color: var(--muted); font-size: 13px; }

	/* Boutons */
	.btn {
	  background: linear-gradient(135deg, var(--accent), #0fc1e5);
	  color: #052226;
	  padding: 8px 14px;
	  border-radius: 10px;
	  border: none;
	  cursor: pointer;
	  font-weight: 700;
	  font-size: 13px;
	  letter-spacing: 0.3px;
	  box-shadow: 0 4px 14px rgba(6,182,212,0.35);
	  transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease;
	}
	.btn:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(6,182,212,0.55); filter: brightness(1.05); }
	.btn:active { transform: translateY(0); box-shadow: 0 4px 12px rgba(6,182,212,0.35); }

	/* Favoris / rating */
	.fav-btn {
	  background: transparent;
	  border: 1px solid rgba(255,255,255,0.06);
	  color: var(--accent);
	  padding: 6px 8px;
	  border-radius: 8px;
	  cursor: pointer;
	  font-weight: 700;
	  font-size: 14px;
	  transition: 0.2s;
	}
	.fav-btn:hover { background: rgba(255,255,255,0.08); backdrop-filter: blur(4px) }

	/* Rating badges */
	.rating { background: rgba(0,0,0,0.45); padding: 4px 8px; border-radius: 12px; font-weight: 700; font-size: 13px; }

	/* Footer */
	footer { text-align: center; color: var(--muted); margin-top: 24px; font-size: 13px; }

	/* Scroll animations */
	@keyframes fadeUp {
	  0% { opacity: 0; transform: translateY(20px); }
	  100% { opacity: 1; transform: translateY(0); }
	}

	/* Responsive */
	@media (max-width:720px) {
	  header { flex-direction: column; align-items: flex-start; }
	  .controls { width: 100%; margin-top: 10px; flex-wrap: wrap; }
	  .card img { height: 220px; }
	  .modal { flex-direction: column; align-items: center; }
	  .modal img { width: 180px; height: 260px; }
	}

	/* Bouton Top */
	#backToTop {
	  position: fixed; bottom: 22px; right: 22px; padding: 10px 14px;
	  font-size: 16px; border-radius: 10px; background: var(--accent);
	  color: #052226; border: none; cursor: pointer; font-weight: 700;
	  box-shadow: 0 6px 20px rgba(0,0,0,0.4);
	  transition: opacity .2s ease, transform .2s ease;
	}
	#backToTop.show { display: block; opacity: 1; transform: translateY(0); }
	#backToTop.hide { 
	  opacity: 0; 
	  transform: 
	  translateY(10px); 
	}
	
	.badge-trending {
	  position: absolute;
	  top: 10px;
	  left: 10px;
	  background: #ff4500;
	  color: white;
	  font-size: 11px;
	  padding: 2px 6px;
	  border-radius: 6px;
	  font-weight: bold;
	  z-index: 10; /* s'assure qu'il soit au-dessus de l'image */
	  pointer-events: none; /* pas cliquable */
	}
	.card { position: relative; } /* nÃ©cessaire pour que le badge soit bien positionnÃ© par rapport Ã  la carte */
	
	#authContainer {
	  display: flex;
	  gap: 8px;
	  align-items: center;
	  background: rgba(11,18,32,0.85);
	  padding: 6px 12px;
	  border-radius: 12px;
	  backdrop-filter: blur(6px);
	  flex-wrap: wrap;
	  position: relative;
	  z-index: 999;
	}

	#userBox {
	  display: flex;
	  align-items: center;
	  gap: 6px;
	  background: rgba(255,255,255,0.12);
	  padding: 6px 14px;
	  border-radius: 999px;
	  color: white;
	  font-weight: 700;
	  text-decoration: none;
	  cursor: pointer;
	  transition: background 0.2s;
	  z-index: 100;
	}
	#userBox:hover { background: rgba(255,255,255,0.2); }

	.notif-container { 
	  position: relative; 
	  cursor: pointer;
	  font-size: 18px;
	  border-radius: 50%;
	  transition: background 0.2s;
	}
	.notif-container:hover {
	  background: rgba(255,255,255,0.12);
	}
	.notif-badge {
	  position: absolute;
	  top: -4px;
	  right: -6px;

	  min-width: 16px;
	  height: 16px;
	  padding: 0 4px;

	  display: none;
	  align-items: center;
	  justify-content: center;

	  background: #ef4444; /* rouge clean */
	  color: white;

	  font-size: 10px;
	  font-weight: 800;
	  line-height: 1;

	  border-radius: 999px;
	  border: 2px solid #0b1220; /* fond du header */

	  box-shadow: 0 2px 6px rgba(0,0,0,0.6);
	  z-index: 200;
	}
	.notif-dropdown {
	  position: absolute;
	  top: 50px;
	  right: 0;
	  width: 320px;
	  background: #0b1220;
	  border-radius: 14px;
	  box-shadow: 0 15px 40px rgba(0,0,0,0.6);
	  z-index: 300;
	  overflow: hidden;
	}

	#notifList li {
	  padding: 12px 14px;
	  font-size: 14px;
	  border-bottom: 1px solid rgba(255,255,255,0.08);
	  color: #e6eef6;
	}

	#notifList li:last-child {
	  border-bottom: none;
	}

	#notifList li:hover {
	  background: rgba(255,255,255,0.05);
	}
	.notif-badge.show {
	  display: flex;
	  animation: pop 0.25s ease;
	}

	@keyframes pop {
	  0% { transform: scale(0); }
	  80% { transform: scale(1.2); }
	  100% { transform: scale(1); }
	}
	@media (max-width:720px) {
		header { padding: 16px 20px; }
	}
	* {
		transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
	}
  </style>
  <!-- Favicon classique -->
  <link rel="icon" type="image/png" href="icon_animehub.png">
  <!-- IcÃ´ne Apple touch (pour iPhone/iPad) -->
  <link rel="apple-touch-icon" sizes="180x180" href="icon_animehub.png">
  <link rel="apple-touch-icon" sizes="152x152" href="icon_animehub.png">
  <link rel="apple-touch-icon" sizes="120x120" href="icon_animehub.png">
  <link rel="apple-touch-icon" sizes="76x76" href="icon_animehub.png">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>
    <header>
      <div>
        <h1>AnimeHub</h1>
        <p class="lead">Ton univers anime Ã  portÃ©e de clic</p>
      </div>
      <div class="controls">
        <div class="search-wrap">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#9ca3af" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="#9ca3af" stroke-width="2"></circle></svg>
          <input id="search" class="search" placeholder="Rechercher un anime..."/>
        </div>
        <select id="genre" class="select"></select>
        <select id="sort" class="select-sm">
          <option value="top">Top rating</option>
          <option value="new">Les plus rÃ©cents</option>
		  <option value="az">AlphabÃ©tique (A â†’ Z)</option>
		  <option value="za">AlphabÃ©tique (Z â†’ A)</option>
		  <option value="popular">ğŸ”¥ PopularitÃ©</option>
        </select>
        <select id="favFilter" class="select-sm">
          <option value="all">Tous</option>
          <option value="fav">Favoris seulement</option>
        </select>
      </div>
	  <div id="authContainer">
	    <div class="notif-container" id="notifBtn">
		  <i class="fa-solid fa-bell"></i>
		  <span class="notif-badge" id="notifBadge">0</span>
		</div>

		<div class="notif-dropdown" id="notifDropdown" style="display:none;">
		  <ul id="notifList" style="list-style:none; margin:0; padding:0;"></ul>
		</div>
		<a href="profile.html" id="userBox">
          <span id="username"></span>
        </a>
	  </div>
	  <div id="authModal" class="modal-auth" style="display:none;">
	    <div class="modal-auth-content">
		  <h2 id="authTitle">Connexion</h2>

		  <input type="email" id="authEmail" placeholder="Email">
		  <input type="password" id="authPassword" placeholder="Mot de passe">

		  <button id="authSubmit">Valider</button>
		  <button id="authClose" class="close-auth">Fermer</button>
	    </div>
	  </div>
    </header>
	<div class="container">
    <main>
      <div id="grid" class="grid" style="display:none"></div>
	  <div id="loading" style="color:var(--muted); text-align:center; padding:40px 0;">Les pages du Death Note sâ€™Ã©criventâ€¦ Patience</div>
      <div id="empty" style="display:none; color:var(--muted); text-align:center; padding:40px 0;">Aucun rÃ©sultat...</div>
    </main>

    <footer>Il manque ton anime ? N'hÃ©site pas Ã  demander pour que je le rajoute.</footer>
  </div>

  <!-- Modal template -->
  <div id="modalRoot" style="display:none"></div>
  <button id="backToTop">â†‘ Top</button>
  <script>
    const SAMPLE_ANIMES = [
      { id:1, 
	  title:'One Piece', 
	  genre:['Adventure','Action'], 
	  rating:0, 
	  year:1999, 
	  img:'https://cdn.myanimelist.net/images/anime/1244/138851.jpg', 
	  summary:'One Piece suit Monkey D. Luffy, un ado qui veut devenir Roi des Pirates aprÃ¨s avoir mangÃ© un fruit magique qui rend son corps Ã©lastique. Il part sur les mers pour trouver le lÃ©gendaire trÃ©sor, le One Piece, et se crÃ©e petit Ã  petit un Ã©quipage aux pouvoirs et aux rÃªves diffÃ©rents, les Mugiwara. Ensemble, ils affrontent des pirates, des marines, des tyrans et des monstres, tout en vivant des aventures incroyables et en se rapprochant de la vÃ©ritÃ© sur le monde et sur le passÃ© cachÃ©.', 
	  fav:false,
	  likes: 0},
      { id:2, 
	  title:'Solo Leveling', 
	  genre:['Action','Fantasy'], 
	  rating:0, 
	  year:2024, 
	  img:'https://cdn.myanimelist.net/images/anime/1448/147351.jpg', 
	  summary:'Dans un monde oÃ¹ des portails font apparaÃ®tre des monstres, les humains â€œchasseursâ€ risquent leur vie pour les affronter. Sung Jin-Woo, considÃ©rÃ© comme le chasseur le plus faible, survit par miracle Ã  un donjon terrifiant. AprÃ¨s Ã§a, il reÃ§oit un pouvoir unique : il peut devenir plus fort sans limite, comme dans un jeu vidÃ©o, en accomplissant des quÃªtes et en gagnant des niveaux. Ã€ partir de lÃ , Jin-Woo grimpe en puissance Ã  une vitesse folle, affronte des ennemis de plus en plus dangereux, et dÃ©couvre les secrets derriÃ¨re les portails et sa propre ascension.', 
	  fav:false,
	  likes: 0 },
      { id:3, 
	  title:'Death Note', 
	  genre:['Mystery','Thriller'], 
	  rating:0, 
	  year:2006, 
	  img:'https://cdn.myanimelist.net/images/anime/1079/138100.jpg', 
	  summary:'Death Note raconte lâ€™histoire de Light Yagami, un Ã©tudiant japonais brillant mais dÃ©sabusÃ©, qui trouve un carnet surnaturel appelÃ© Death Note. Ce carnet permet de tuer toute personne dont on Ã©crit le nom dedans. Convaincu quâ€™il peut crÃ©er un monde parfait en Ã©liminant les criminels, Light se transforme en justicier impitoyable sous le nom de Kira. Face Ã  lui, L, un dÃ©tective gÃ©nial et mystÃ©rieux, se lance dans une lutte intellectuelle intense pour lâ€™arrÃªter. Entre manipulations, trahisons et stratÃ©gies mentales, le combat entre Light et L devient une vÃ©ritable partie dâ€™Ã©checs mortelle.', 
	  fav:false,
	  likes: 0 },
      { id:4, 
	  title:'Jujutsu Kaisen', 
	  genre:['Action','Supernatural'], 
	  rating:0, 
	  year:2020, 
	  img:'https://cdn.myanimelist.net/images/anime/1180/153379.jpg', 
	  summary:'Lâ€™histoire suit Yuji Itadori, un lycÃ©en super sportif qui dÃ©couvre un monde cachÃ© rempli de malÃ©dictions, des esprits crÃ©Ã©s par les Ã©motions nÃ©gatives des humains. Quand il avale un doigt maudit contenant une puissante malÃ©diction, Ryomen Sukuna, il devient son hÃ´te. Yuji rejoint alors lâ€™Ã©cole de Jujutsu, oÃ¹ il apprend Ã  combattre les malÃ©dictions avec ses nouveaux pouvoirs, tout en essayant de protÃ©ger les innocents et de dÃ©couvrir comment vaincre Sukuna dÃ©finitivement.', 
	  fav:false,
	  likes: 0  },
      { id:5, 
	  title:'Oshi No Ko', 
	  genre:['Drama','Mystery'], 
	  rating:0, 
	  year:2023, 
	  img:'https://cdn.myanimelist.net/images/anime/1979/153329.jpg', 
	  summary:'Lâ€™histoire suit Aquamarine â€œAquaâ€ et Ruby, des jumeaux nÃ©s dans lâ€™industrie du divertissement aprÃ¨s une sÃ©rie dâ€™Ã©vÃ©nements tragiques liÃ©s Ã  leur mÃ¨re, une idole populaire. Le manga explore les coulisses sombres du showbiz, les ambitions, les manipulations et les secrets des cÃ©lÃ©britÃ©s, tout en suivant leur quÃªte de justice et de vÃ©ritÃ© sur le passÃ© de leur famille.', 
	  fav:false,
	  likes: 0 },
	  { id:6,
	  title:'Fairy Tail',
	  genre:['Action','Adventure','Fantasy'],
	  rating:0,
	  year:2009,
	  img:'https://cdn.myanimelist.net/images/anime/5/18179.jpg',
	  summary:`L'histoire suit Natsu Dragnir, un mage de feu, et ses amis de la guilde Fairy Tail, connus pour leur Ã©nergie, leur courage et leur sens de la camaraderie. Ensemble, ils accomplissent des missions, affrontent des ennemis redoutables et dÃ©couvrent des secrets sur le monde et sur eux-mÃªmes. Au fil des aventures, lâ€™anime met surtout lâ€™accent sur lâ€™amitiÃ©, la persÃ©vÃ©rance et la magie spectaculaire, avec des combats intenses et des moments Ã©mouvants qui renforcent les liens entre les personnages.`,
	  fav:false,
	  likes: 0 },
	  { id:7,
	  title:'Shangri-La Frontier',
	  genre:['Isekai','Fantasy','Game'],
	  rating:0,
	  year:2023,
	  img:'https://cdn.myanimelist.net/images/anime/1851/148885.jpg',
	  summary:`L'histoire suit Sunraku, un gamer hardcore qui adore les jeux vidÃ©o tout buggÃ©s. Un jour, il dÃ©cide de tester Shangri-La Frontier, un VRMMORPG extrÃªmement populaire et bien fait. GrÃ¢ce Ã  son expÃ©rience dans des jeux â€œhorriblesâ€, Sunraku devient incroyablement fort dans ce monde virtuel. Il se lance alors dans une aventure pleine de boss lÃ©gendaires, de dÃ©fis absurdes, de rencontres marquantes et de moments trÃ¨s drÃ´les, tout en essayant de percer les secrets du jeu.`,
	  fav:false,
	  likes: 0 },
	  { id:8,
	  title:'My Hero Academia',
	  genre:['Superheroes','Action'],
	  rating:0,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/1959/151055.jpg',
	  summary:'Dans un monde oÃ¹ presque tout le monde possÃ¨de un pouvoir appelÃ© Alter, Izuku Midoriya naÃ®tâ€¦ sans aucun pouvoir. Son rÃªve pourtant : devenir un grand hÃ©ros comme son idole All Might. Sa vie bascule quand All Might lui transmet son Alter, One For All. Izuku intÃ¨gre alors lâ€™Ã©cole de hÃ©ros UA, oÃ¹ il sâ€™entraÃ®ne avec dâ€™autres Ã©lÃ¨ves pour devenir pro, affronte des vilains de plus en plus dangereux et dÃ©couvre les secrets derriÃ¨re son nouveau pouvoir.',
	  fav:false,
	  likes: 0 },
	  { id:9,
	  title:'Attack On Titan',
	  genre:['Dark','Fantasy','Action','Drama'],
	  rating:0,
	  year:2013,
	  img:'https://cdn.myanimelist.net/images/anime/1948/120625.jpg',
	  summary:'Lâ€™histoire suit Eren Yeager, qui vit dans une citÃ© entourÃ©e de gigantesques murs pour protÃ©ger lâ€™humanitÃ© des Titans, des crÃ©atures qui dÃ©vorent les humains. AprÃ¨s que sa ville est dÃ©truite et que sa mÃ¨re meurt, Eren jure dâ€™exterminer tous les Titans. Il rejoint alors lâ€™armÃ©e avec Mikasa et Armin, et dÃ©couvre peu Ã  peu la vÃ©ritÃ© : les Titans, les murs, le monde extÃ©rieurâ€¦ rien nâ€™est vraiment comme on le leur a racontÃ©. Lâ€™histoire devient une montÃ©e en tension entre guerre, secrets et survie, oÃ¹ chaque rÃ©vÃ©lation change totalement la vision du monde.',
	  fav:false,
	  likes: 0 },
	  { id:10,
	  title:'Classroom Of The Elite',
	  genre:['Psychological','School Life','Drama','Thriller'],
	  rating:0,
	  year:2017,
	  img:'https://cdn.myanimelist.net/images/anime/1176/153626.jpg',
	  summary:'Lâ€™histoire suit Kiyotaka AyanokÅji, un Ã©lÃ¨ve apparemment banal placÃ© dans la classe D, la classe la plus faible dâ€™un lycÃ©e dâ€™Ã©lite oÃ¹ tout fonctionne selon un systÃ¨me de points, de compÃ©tition et de manipulation. TrÃ¨s vite, on comprend quâ€™AyanokÅji cache un niveau dâ€™intelligence et de stratÃ©gie monstrueux, quâ€™il utilise discrÃ¨tement pour faire progresser sa classe, manipuler les autres groupes et naviguer dans un systÃ¨me scolaire impitoyable oÃ¹ chaque Ã©lÃ¨ve cherche Ã  grimper socialement. Lâ€™anime repose sur des jeux psychologiques, des alliances, des trahisons, et les secrets autour du passÃ© dâ€™AyanokÅji.',
	  fav:false,
	  likes: 0 },
	  { id:11,
	  title:'Rascal Does Not Dream Of ...',
	  genre:['Romance','Drama','Psychological','Slice Of Life','Supernatural'],
	  rating:0,
	  year:2018,
	  img:'https://cdn.myanimelist.net/images/anime/1823/149858.jpg',
	  summary:'Lâ€™histoire suit Sakuta Azusagawa, un lycÃ©en qui rencontre Mai Sakurajima, une actrice cÃ©lÃ¨bre devenue invisible aux yeux du monde Ã  cause dâ€™un phÃ©nomÃ¨ne liÃ© au â€œsyndrome de la pubertÃ©â€. En cherchant Ã  lâ€™aider, Sakuta dÃ©couvre que dâ€™autres Ã©lÃ¨ves vivent aussi des phÃ©nomÃ¨nes surnaturels qui reflÃ¨tent leurs blessures Ã©motionnelles : harcÃ¨lement, pression, jalousie, identitÃ©â€¦ Ã€ chaque fois, il doit comprendre leur problÃ¨me pour les aider Ã  sâ€™en sortir, tout en dÃ©veloppant une relation touchante et sincÃ¨re avec Mai. Câ€™est un anime qui mÃ©lange romance, Ã©motions et un soupÃ§on de surnaturel de maniÃ¨re trÃ¨s chill.',
	  fav:false,
	  likes: 0 },
	  { id:12,
	  title:'Your Lie In April',
	  genre:['Drama','Romance','Musical'],
	  rating:0,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1405/143284.jpg',
	  summary:'Lâ€™histoire suit KÅsei Arima, un ancien prodige du piano qui a complÃ¨tement arrÃªtÃ© de jouer aprÃ¨s la mort de sa mÃ¨re. Il vit dans un monde â€œsans couleursâ€, incapable dâ€™entendre la musique correctement. Sa vie change le jour oÃ¹ il rencontre Kaori Miyazono, une violoniste pleine dâ€™Ã©nergie qui joue avec passion et libertÃ©. GrÃ¢ce Ã  elle, KÅsei se remet petit Ã  petit au piano, retrouve goÃ»t Ã  la musique et commence Ã  guÃ©rir de ses traumatismesâ€¦ mais Kaori cache un secret qui rend leur histoire encore plus bouleversante.',
	  fav:false,
	  likes: 0 },
	  { id:13,
	  title:'Kaguya-Sama : Love Is War',
	  genre:['Romance','Comedy','Psychological','School Life'],
	  rating:0,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1160/122627.jpg',
	  summary:'Lâ€™histoire suit Kaguya Shinomiya et Miyuki Shirogane, les deux cadors du conseil des Ã©lÃ¨ves, intelligents, respectÃ©sâ€¦ et secrÃ¨tement amoureux lâ€™un de lâ€™autre. Sauf quâ€™ils sont trop fiers pour avouer. Du coup, ils transforment chaque interaction en bataille mentale pour pousser lâ€™autre Ã  craquer en premier : manipulations, piÃ¨ges psychologiques, stratÃ©gies ridiculesâ€¦ tout y passe. Entre leurs plans qui tournent souvent au fiasco, lâ€™Ã©nergie chaotique de Chika, et les problÃ¨mes des autres membres du conseil, la â€œguerreâ€ devient une romcom hilarante oÃ¹ avouer ses sentiments est lâ€™objectif final.',
	  fav:false,
	  likes: 0 },
	  { id:14,
	  title:'Hunter X Hunter',
	  genre:['Adventure','Action','Fantasy','Psychological'],
	  rating:0,
	  year:2011,
	  img:'https://cdn.myanimelist.net/images/anime/1337/99013.jpg',
	  summary:'Lâ€™histoire suit Gon Freecss, un garÃ§on qui dÃ©couvre que son pÃ¨re, quâ€™il croyait mort, est en rÃ©alitÃ© un Hunter lÃ©gendaire. Gon dÃ©cide de devenir lui aussi Hunter pour le retrouver. En chemin, il se lie dâ€™amitiÃ© avec Killua, Leorio et Kurapika. Ensemble, ils passent des examens dangereux, affrontent des ennemis redoutables et explorent un monde rempli de crÃ©atures, secrets et pouvoirs surnaturels. Les combats reposent souvent sur stratÃ©gie et intelligence, pas juste sur la force brute.',
	  fav:false,
	  likes: 0 },
	  { id:15,
	  title:'Fruits Basket',
	  genre:['Romance','Drama','Slice Of Life'],
	  rating:0,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1085/114792.jpg',
	  summary:'Lâ€™histoire suit Tohru Honda, une lycÃ©enne orpheline qui finit par vivre avec la famille Soma, maudite par le zodiaque chinois : chaque membre se transforme en animal lorsquâ€™il est stressÃ© ou en contact avec quelquâ€™un du sexe opposÃ©. Au fil du temps, Tohru dÃ©couvre les secrets et blessures de chaque membre, les aide Ã  sâ€™accepter et guÃ©rir, et crÃ©e des liens forts dâ€™amitiÃ© et de famille. Lâ€™anime mÃ©lange humour, Ã©motions et moments touchants tout au long de lâ€™histoire.',
	  fav:false,
	  likes: 0 },
	  { id:16,
	  title:'Chainsaw Man',
	  genre:['Dark','Fantasy','Action','Horror'],
	  rating:0,
	  year:2022,
	  img:'https://cdn.myanimelist.net/images/anime/1432/154522.jpg',
	  summary:'Lâ€™histoire suit Denji, un jeune homme pauvre endettÃ©, qui chasse des dÃ©mons pour rembourser ses dettes. AprÃ¨s avoir Ã©tÃ© trahi et tuÃ©, il fusionne avec son chien-dÃ©mon Pochita et devient Chainsaw Man, capable de se transformer en humain avec des tronÃ§onneuses sortant de son corps. Il rejoint alors lâ€™Agence des Chasseurs de DÃ©mons et combat des crÃ©atures terrifiantes tout en dÃ©couvrant les vÃ©ritÃ©s sombres sur les dÃ©mons, les humains et ses propres dÃ©sirs. Lâ€™histoire mÃ©lange action sanglante, humour noir et drame Ã©motionnel.',
	  fav:false,
	  likes: 0 },
	  { id:17,
	  title:'Tokyo Revengers',
	  genre:['Action','Drama','Time Travel'],
	  rating:0,
	  year:2021,
	  img:'https://cdn.myanimelist.net/images/anime/1340/148694.jpg',
	  summary:'Lâ€™histoire suit Takemichi Hanagaki, un jeune homme ratÃ© qui apprend que son ex-petite amie de lycÃ©e, Hinata, a Ã©tÃ© tuÃ©e par un gang. Un jour, il revient mystÃ©rieusement 12 ans dans le passÃ© et dÃ©cide de changer le destin de Hinata en infiltrant et en remontant les rangs du gang Tokyo Manji. Au fil du temps, Takemichi se retrouve mÃªlÃ© Ã  des bagarres, trahisons et alliances, tout en essayant de changer lâ€™avenir et de protÃ©ger ses amis. Lâ€™anime mÃ©lange action, drame et voyages dans le temps, avec un fort cÃ´tÃ© Ã©motionnel.',
	  fav:false,
	  likes: 0 },
	  { id:18,
	  title:'Horimiya',
	  genre:['Romance','Slice Of Life','Comedy','School Life'],
	  rating:0,
	  year:2021,
	  img:'https://cdn.myanimelist.net/images/anime/1695/111486.jpg',
	  summary:'Lâ€™histoire suit Hori, une lycÃ©enne populaire et studieuse, et Miyamura, un camarade discret avec un cÃ´tÃ© rebelle cachÃ©. MalgrÃ© leurs apparences publiques opposÃ©es, ils dÃ©couvrent leur vrai visage lâ€™un pour lâ€™autre et deviennent amis puis amoureux. Lâ€™anime explore leur vie quotidienne au lycÃ©e, les relations avec leurs amis, et la faÃ§on dont chacun apprend Ã  sâ€™accepter et Ã  se confier. Câ€™est une romance douce, drÃ´le et touchante.',
	  fav:false,
	  likes: 0 },
	  { id:19,
	  title:'Blue Box',
	  genre:['Romance','Sports','Slice Of Life'],
	  rating:0,
	  year:2024,
	  img:'https://cdn.myanimelist.net/images/anime/1496/147108.jpg',
	  summary:'Lâ€™histoire suit Taiki Inomata, un lycÃ©en passionnÃ© de badminton, et Chinatsu Kano, une star du basketball dans le mÃªme lycÃ©e. Ils se rapprochent peu Ã  peu malgrÃ© leur timiditÃ© et les rivalitÃ©s sportives, dÃ©couvrant des sentiments naissants lâ€™un pour lâ€™autre. Lâ€™anime mÃ©lange romance douce, compÃ©titions sportives et moments du quotidien, montrant comment leur passion pour le sport et leurs Ã©motions sâ€™entremÃªlent.',
	  fav:false,
	  likes: 0 },
	  { id:20,
	  title:'The Angel Next Door Spoils Me Rotten',
	  genre:['Romance','Slice Of Life','School Life'],
	  rating:0,
	  year:2023,
	  img:'https://cdn.myanimelist.net/images/anime/1746/152415.jpg',
	  summary:'Lâ€™histoire suit Amane Fujimiya, un lycÃ©en ordinaire, et Mahiru Shiina, sa voisine parfaite et attentionnÃ©e, surnommÃ©e â€œlâ€™angeâ€. Mahiru commence Ã  prendre soin de Amane, que ce soit pour les repas, les vÃªtements ou les petites attentions quotidiennes. Au fil du temps, leur proximitÃ© et leurs gestes tendres font naÃ®tre des sentiments, et ils apprennent Ã  sâ€™ouvrir lâ€™un Ã  lâ€™autre tout en partageant des moments simples et touchants du quotidien.',
	  fav:false,
	  likes: 0 },
	  { id:21,
	  title:'Alya Sometimes Hides Her Feelings In Russian',
	  genre:['Comedy','Romance','Slice Of Life','School Life'],
	  rating:0,
	  year:2024,
	  img:'https://cdn.myanimelist.net/images/anime/1277/153378.jpg',
	  summary:'Dans une acadÃ©mie japonaise, il y a Alisa Mikhailovna Kujou (surnommÃ©e â€œAlyaâ€), une demiâ€‘Russe demiâ€‘Japonaise : belle, brillante et froide â€” le genre â€œprincesse inaccessibleâ€. Elle sâ€™assoit Ã  cÃ´tÃ© dâ€™un Ã©lÃ¨ve un peu flemmard, Masachika Kuze, et malgrÃ© son attitude distante, Alya murmure parfois â€” en russe â€” des confidences et compliments adressÃ©s Ã  lui (pensant quâ€™il ne comprend pas). Masachika comprend parfaitement le russe, mais il fait semblant de ne rien piger. RÃ©sultat ? Une sÃ©rie de quiproquos, de regards gÃªnÃ©s, de malentendus et de sentiments qui grandissentâ€¦ tout en douceur.',
	  fav:false,
	  likes: 0 },
	  { id:22,
	  title:'My Teen Romantic Comedy SNAFU',
	  genre:['Romance','Comedy','School Life','Slice Of Life','Psychological'],
	  rating:0,
	  year:2013,
	  img:'https://cdn.myanimelist.net/images/anime/1958/107912.jpg',
	  summary:'Lâ€™histoire suit Hachiman Hikigaya, un lycÃ©en cynique et solitaire, qui croit que les relations humaines sont superficielles. Pour â€œapprendre la vieâ€, il est forcÃ© de rejoindre le Service Club, dirigÃ© par Yukino Yukinoshita, une fille brillante mais froide. Le club a pour mission dâ€™aider les Ã©lÃ¨ves avec leurs problÃ¨mes personnels. Ã€ travers des situations sociales, des quiproquos et des dÃ©bats philosophiques, Hachiman et Yukino (avec lâ€™aide de Yui Yuigahama) explorent les complexitÃ©s de lâ€™amitiÃ©, de lâ€™amour et des attentes sociales, souvent de maniÃ¨re rÃ©aliste et pleine de sarcasme.',
	  fav:false,
	  likes: 0 },
	  { id:23,
	  title:'My First Girlfriend is a Gal',
	  genre:['Ecchi','Romance','Comedy','School Life'],
	  rating:0,
	  year:2017,
	  img:'https://cdn.myanimelist.net/images/anime/9/86826.jpg',
	  summary:'Lâ€™histoire suit Junichi Hashiba, un lycÃ©en timide qui nâ€™a jamais eu de petite amie. AprÃ¨s avoir demandÃ© conseil Ã  ses amis, il finit par sortir avec Yukana Yame, une fille populaire et sexy, ce qui le plonge dans des situations gÃªnantes, embarrassantes et drÃ´les. Au fil du temps, Junichi dÃ©couvre que Yukana nâ€™est pas juste une â€œgal superficielleâ€ : elle a ses propres sentiments et failles. Lâ€™anime mÃ©lange romance, humour et moments un peu coquins, tout en montrant la croissance du couple.',
	  fav:false,
	  likes: 0 },
	  { id:24,
	  title:'Maid Sama!',
	  genre:['Romance','Comedy','School Life'],
	  rating:0,
	  year:2010,
	  img:'https://cdn.myanimelist.net/images/anime/6/25254.jpg',
	  summary:'Lâ€™histoire suit Misaki Ayuzawa, prÃ©sidente du conseil des Ã©lÃ¨ves dâ€™un lycÃ©e auparavant rÃ©servÃ© aux garÃ§ons, connue pour sa rigueur et son sÃ©rieux. En secret, elle travaille dans un maid cafÃ© pour aider sa famille. Quand Takumi Usui, le garÃ§on le plus populaire du lycÃ©e, dÃ©couvre son secret, il commence Ã  la taquiner tout en la soutenant. Au fil du temps, leur relation Ã©volue entre humour, romance et moments touchants, montrant comment Misaki apprend Ã  faire confiance et Ã  sâ€™ouvrir aux autres.',
	  fav:false,
	  likes: 0 },
	  { id:25,
	  title:`Don't Toys With Me, Miss Nagatoro`,
	  genre:['Comedy','Romance','School Life','Slice Of Life'],
	  rating:0,
	  year:2021,
	  img:'https://cdn.myanimelist.net/images/anime/1902/129579.jpg',
	  summary:'Lâ€™histoire suit un lycÃ©en timide, souvent appelÃ© Senpai, qui se fait taquiner et provoquer sans arrÃªt par Nagatoro, une Ã©lÃ¨ve plus jeune et trÃ¨s espiÃ¨gle. Au fil des Ã©pisodes, leurs interactions passent du simple harcÃ¨lement lÃ©ger Ã  une relation plus profonde et complice, oÃ¹ Nagatoro montre quâ€™elle tient vraiment Ã  lui, et oÃ¹ Senpai gagne en confiance. Lâ€™anime mÃ©lange humour, romance et moments mignons du quotidien scolaire.',
	  fav:false,
	  likes: 0 },
	  { id:26,
	  title:'The Fragrant Flower Blooms with Dignity',
	  genre:['Romance','Drama','School Life','Slice Of Life'],
	  rating:0,
	  year:2025,
	  img:'https://cdn.myanimelist.net/images/anime/1744/150433.jpg',
	  summary:'Lâ€™histoire suit RintarÅ Tsumugi, un lycÃ©en qui a lâ€™air intimidant et rebelle â€” mais en rÃ©alitÃ©, câ€™est un mec gentil et doux. Il travaille dans la boulangerie familiale. Un jour, il croise Kaoruko Waguri, une Ã©lÃ¨ve dâ€™un lycÃ©e privÃ© prestigieux pour filles, trÃ¨s diffÃ©rent de son Ã©cole. Elle ne le juge pas sur son apparence, et pour la premiÃ¨re fois, RintarÅ sent quâ€™il pourrait exister quelquâ€™un qui le voit pour ce quâ€™il est vraiment. MalgrÃ© la rivalitÃ© entre leurs deux lycÃ©es, ils apprennent Ã  se connaÃ®tre, Ã  se rapprocher, Ã  dÃ©passer les prÃ©jugÃ©sâ€¦ et Ã  construire peu Ã  peu une relation sincÃ¨re, faite de douceur, de petits gestes et de soutien mutuel. Lâ€™anime met lâ€™accent sur les Ã©motions vraies, la timiditÃ©, les doutes, les diffÃ©rences sociales et la beautÃ© dâ€™une romance â€œnormaleâ€ mais touchante.',
	  fav:false,
	  likes: 0 },
	  { id:27,
	  title:'Cyberpunk : Edgerunners',
	  genre:['Action','Science Fiction','Cyberpunk','Drama'],
	  rating:0,
	  year:2022,
	  img:'https://cdn.myanimelist.net/images/anime/1818/126435.jpg',
	  summary:'Lâ€™histoire suit David Martinez, un adolescent des rues dans la ville dystopique de Night City, obsÃ©dÃ© par la technologie et les implants cybernÃ©tiques. AprÃ¨s un tragique incident, il dÃ©cide de rejoindre un groupe de mercenaires appelÃ©s les Edgerunners pour survivre et sâ€™Ã©lever dans ce monde cruel. Au fil de lâ€™histoire, David et son Ã©quipe affrontent des gangs, corporations et ennemis puissants, tout en explorant des thÃ¨mes de loyautÃ©, survie, ambition et humanitÃ© dans un univers violent et futuriste. Lâ€™anime combine action explosive, Ã©motion et tragÃ©die.',
	  fav:false,
	  likes: 0 },
	  { id:28,
	  title:'Romantic Killer',
	  genre:['Comedy','Romance','Slice Of Life','School Life','Supernatural'],
	  rating:0,
	  year:2022,
	  img:'https://cdn.myanimelist.net/images/anime/1764/142001.jpg',
	  summary:'Lâ€™hÃ©roÃ¯ne, Anzu Hoshino, est une lycÃ©enne qui adore les jeux vidÃ©o, le chocolat et son chat â€” mais nâ€™a absolument aucun intÃ©rÃªt pour lâ€™amour ou les garÃ§ons. Un jour, un sorcier bizarre nommÃ© Riri dÃ©barque de nulle part et dÃ©cide quâ€™Anzu doit vivre une â€œsimulation de dragueâ€ en plein lycÃ©e, entourÃ©e de plusieurs beaux garÃ§ons. Pour la forcer Ã  tomber amoureuse, il lui enlÃ¨ve ses trois passions : jeux vidÃ©o, chocolat et son chat. Anzu, qui ne veut surtout pas tomber dans un clichÃ© romantique, dÃ©cide alors de rÃ©sister de toutes ses forces. Mais plus lâ€™histoire avance, plus ses â€œquasiâ€‘rencontresâ€ la poussent Ã  reconsidÃ©rer ce quâ€™elle veut vraimentâ€¦ et la romance forcÃ©e risque bien de devenir quelque chose de plus vrai que prÃ©vu.',
	  fav:false,
	  likes: 0 },
	  { id:29,
	  title:'DanDaDan',
	  genre:['Action','Adventure','Supernatural','Horror','Comedy','Romance'],
	  rating:0,
	  year:2024,
	  img:'https://cdn.myanimelist.net/images/anime/1721/149001.jpg',
	  summary:'Lâ€™histoire commence avec deux lycÃ©ens : Momo Ayase, convaincue que les fantÃ´mes existent, et Ken Takakura (surnommÃ© â€œOkarunâ€), qui croit lui aux extraterrestres. Pour savoir lequel a raison, ils dÃ©cident de vÃ©rifier â€” Momo explore un lieu supposÃ© hantÃ©, Ken un spot dâ€™ovni. RÃ©sultat : ils ont tous les deux raisonâ€¦ FantÃ´mes et extraterrestres sont rÃ©els, et ce quâ€™ils dÃ©couvrent dÃ©passe lâ€™horreur et le WTF. Ã€ partir de lÃ  ils se retrouvent embarquÃ©s dans des aventures folles : exorcismes, batailles surnaturelles, crÃ©atures bizarres, complots occultes, alliÃ©s improbables â€” le tout dans un bordel cohÃ©rent, entre frissons, action et humour. En plus, entre deux monstres ou combats, y a des moments plus humains â€” doutes, amitiÃ©, rapprochements â€” ce qui donne un cÃ´tÃ© Ã©pique + sensible Ã  lâ€™histoire.',
	  fav:false,
	  likes: 0 },
	  { id:30,
	  title:'Wistoria : Wand And Sword',
	  genre:['Fantasy','Adventure','Action'],
	  rating:0,
	  year:2024,
	  img:'https://cdn.myanimelist.net/images/anime/1428/154046.jpg',
	  summary:'On suit Will Serfort, un Ã©tudiant dans une acadÃ©mie magique appelÃ©e Rigarden Magical Academy. Son rÃªve : devenir un des plus puissants magiciens, les â€œMagiaâ€¯Vanderâ€, pour tenir une promesse faite Ã  son amie dâ€™enfance. Le souci : Will nâ€™a aucun talent pour la magie â€” il ne peut lancer aucun sort. Du coup, il compense avec ses talents dâ€™Ã©pÃ©iste : il entre dans lâ€™acadÃ©mie et affronte des monstres dans des donjons avec son Ã©pÃ©e, espÃ©rant prouver sa valeur malgrÃ© son absence de magie. Au fil des Ã©pisodes/chapitres, on dÃ©couvre que le monde dans lequel il vit est riche : magie, factions, monstres, Ã©cole magique, et enjeux lourds. Will se fait des alliÃ©s mais aussi des rivaux, et montre que mÃªme sans magie, on peut se battre pour ses rÃªves â€” avec courage et dÃ©termination.',
	  fav:false,
	  likes: 0 },
	  { id:31,
	  title:'Demon Slayer',
	  genre:['Action','Dark','Fantasy','Adventure'],
	  rating:0,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1565/142711.jpg',
	  summary:'Lâ€™histoire suit Tanjiro Kamado, un jeune garÃ§on dont la famille a Ã©tÃ© massacrÃ©e par des dÃ©mons. Sa sÅ“ur Nezuko est la seule survivante, mais elle a Ã©tÃ© transformÃ©e en dÃ©mon. Tanjiro dÃ©cide de devenir un Demon Slayer pour venger sa famille et trouver un moyen de rendre sa sÅ“ur humaine. AccompagnÃ© de compagnons comme Zenitsu et Inosuke, il affronte des dÃ©mons puissants, dÃ©couvre les secrets de leur monde, et apprend ce que signifient courage, loyautÃ© et compassion.',
	  fav:false,
	  likes: 0 },
	  { id:32,
	  title:'My Dress-Up Darling',
	  genre:['Romance','Comedy','Slice Of Life','School Life'],
	  rating:0,
	  year:2022,
	  img:'https://cdn.myanimelist.net/images/anime/1024/150787.jpg',
	  summary:'Lâ€™histoire suit Wakana Gojo, un lycÃ©en passionnÃ© par la confection de poupÃ©es traditionnelles mais trÃ¨s timide, et Marin Kitagawa, une camarade de classe extravertie et fan de cosplay. Marin dÃ©couvre le talent de Wakana pour crÃ©er des costumes et lui demande de lâ€™aider Ã  rÃ©aliser ses cosplays de rÃªve. Au fil du temps, leur collaboration les rapproche, et ils dÃ©couvrent une relation douce, drÃ´le et complice, entre rires, moments gÃªnants et passions partagÃ©es.',
	  fav:false,
	  likes: 0 },
	  { id:33,
	  title:'Bleach',
	  genre:['Action','Adventure','Supernatural'],
	  rating:0,
	  year:2004,
	  img:'https://cdn.myanimelist.net/images/anime/1488/150890.jpg',
	  summary:'Lâ€™histoire suit Ichigo Kurosaki, un lycÃ©en capable de voir les fantÃ´mes. Sa vie change lorsquâ€™il rencontre Rukia Kuchiki, une shinigami (Dieu de la mort), qui lui transfÃ¨re ses pouvoirs pour quâ€™il protÃ¨ge sa famille et les vivants des Hollows, des esprits malÃ©fiques. Ichigo devient alors un shinigami temporaire, combattant des ennemis puissants et dÃ©couvrant un monde spirituel complexe, tout en protÃ©geant ses amis et en affrontant des dilemmes moraux. Lâ€™anime mÃ©lange action, aventures, drame et liens dâ€™amitiÃ©.',
	  fav:false,
	  likes: 0},
	  { id:34,
	  title:'Sakamoto Days',
	  genre:['Action','Comedy','Slice Of Life'],
	  rating:0,
	  year:2025,
	  img:'https://cdn.myanimelist.net/images/anime/1841/154538.jpg',
	  summary:'Le perso principal, Taro Sakamoto, câ€™Ã©tait un tueur Ã  gages lÃ©gendaire, craint et respectÃ© dans le milieu. Mais un jour il tombe amoureux, dÃ©cide dâ€™abandonner la vie dâ€™assassin, se marie, a une fille, et ouvre une petite supÃ©rette pour mener une vie tranquille. Il est devenu un mari/papa un peu rondouillard â€” mais toujours costaud dans lâ€™Ã¢me. Sauf que son passÃ© le rattrape : dâ€™anciens ennemis, des chasseurs de primes, des assassins reviennent pour lui. Pour protÃ©ger sa famille, Sakamoto doit reprendre du service â€” mais tout en essayant de garder sa promesse (ne plus tuer) et sa nouvelle vie paisible.',
	  fav:false,
	  likes: 0},
	  { id:35,
	  title:'Dragon Ball',
	  genre:['Action','Adventure','Fantasy'],
	  rating:0,
	  year:1986,
	  img:'https://cdn.myanimelist.net/images/anime/1723/145231.jpg',
	  summary:'Lâ€™histoire suit Goku, un jeune garÃ§on dotÃ© dâ€™une force surhumaine et dâ€™une queue de singe. Il part Ã  lâ€™aventure pour retrouver les Dragon Balls, sept boules magiques qui, une fois rÃ©unies, permettent de faire apparaÃ®tre le dragon Shenron et dâ€™exaucer un vÅ“u. Au fil de ses voyages, Goku rencontre des amis comme Bulma, Krillin et Yamcha, affronte des ennemis redoutables, participe Ã  des tournois dâ€™arts martiaux, et dÃ©couvre peu Ã  peu ses origines extraterrestres et ses incroyables pouvoirs. Lâ€™anime mÃ©lange action, humour, aventures et leÃ§ons sur lâ€™amitiÃ© et le courage.',
	  fav:false,
	  likes: 0},
	  { id:36,
	  title:'Kaiju NÂ°8',
	  genre:['Action','Science Fiction'],
	  rating:0,
	  year:2024,
	  img:'https://cdn.myanimelist.net/images/anime/1177/150344.jpg',
	  summary:'Lâ€™histoire suit Kafka Hibino, un homme de 32 ans qui rÃªvait enfant de combattre les kaijÅ«, des monstres gÃ©ants qui ravagent les villes. Mais aprÃ¨s plusieurs Ã©checs, il travaille comme agent de nettoyage, chargÃ© dâ€™Ã©liminer les restes des monstres aprÃ¨s les combats. Tout change quand il se retrouve capable de se transformer en kaijÅ« lui-mÃªme, devenant le mystÃ©rieux Kaiju NÂ°8. CoincÃ© entre son rÃªve de rejoindre les Forces de DÃ©fense et le danger dâ€™Ãªtre considÃ©rÃ© comme un ennemi, Kafka doit cacher sa vÃ©ritable nature tout en protÃ©geant lâ€™humanitÃ©. Câ€™est un mÃ©lange dâ€™action, de tension, de dÃ©passement de soi et de moments plus humains.',
	  fav:false,
	  likes: 0},	  
	  { id:37,
	  title:'Fullmetal Alchemist Brotherhood',
	  genre:['Action','Fantasy','Adventure','Drama'],
	  rating:9.10,
	  year:2009,
	  img:'https://cdn.myanimelist.net/images/anime/1208/94745.jpg',
	  summary:'Lâ€™histoire suit Edward et Alphonse Elric, deux frÃ¨res qui utilisent lâ€™alchimie. AprÃ¨s avoir tentÃ© de ramener leur mÃ¨re Ã  la vie par une transmutation interdite, ils en paient un prix terrible : Edward perd un bras et une jambe, et Alphonse perd tout son corps, son Ã¢me Ã©tant liÃ©e Ã  une armure. Pour retrouver leurs corps, ils partent Ã  la recherche de la Pierre Philosophale, en dÃ©couvrant peu Ã  peu les secrets sombres de leur pays, des complots, des guerres passÃ©es et des ennemis appelÃ©s Homunculus. Lâ€™anime mÃªle action, drame, Ã©motions fortes et une vraie rÃ©flexion sur le prix des choix humains.',
	  fav:false,
      likes: 0},
	  { id:38,
	  title:'One Punch Man',
	  genre:['Action','Superheroes','Comedy'],
	  rating:6.8,
	  year:2015,
	  img:'https://cdn.myanimelist.net/images/anime/1168/148347.jpg',
	  summary:'Lâ€™histoire suit Saitama, un hÃ©ros tellement puissant quâ€™il bat tous ses ennemisâ€¦ en un seul coup. AprÃ¨s sâ€™Ãªtre entraÃ®nÃ© de maniÃ¨re absurde, il cherche surtout Ã  retrouver un peu dâ€™adrÃ©naline, car plus aucun combat ne lui procure de dÃ©fi. Il rejoint lâ€™Association des HÃ©ros, rencontre des alliÃ©s comme Genos, et affronte des monstres de plus en plus dangereux, tout en restant Ã©tonnamment inconnu et sous-estimÃ©. Lâ€™anime mÃ©lange action spectaculaire, humour absurde et parodie des shÅnen classiques.',
	  fav:false,
      likes: 0},
	  { id:39,
	  title:'Sword Art Online',
	  genre:['Isekai','Action','Science Fiction','Adventure','Romance'],
	  rating:7.3,
	  year:2012,
	  img:'https://cdn.myanimelist.net/images/anime/1335/145505.jpg',
	  summary:'Lâ€™histoire suit Kirito, un joueur piÃ©gÃ© avec des milliers dâ€™autres personnes dans un jeu de rÃ©alitÃ© virtuelle appelÃ© Sword Art Online. Le problÃ¨me : mourir dans le jeu signifie mourir dans la vraie vie. Pour sâ€™Ã©chapper, les joueurs doivent terminer les 100 niveaux du jeu. Kirito progresse en solo, affronte des boss puissants, rencontre Asuna, et tisse des liens forts tout en survivant dans ce monde dangereux. La sÃ©rie mÃ©lange action, aventure, drame et romance, en explorant les limites entre le virtuel et le rÃ©el.',
	  fav:false,
      likes: 0},
	  { id:40,
	  title:'Naruto',
	  genre:['Action','Adventure','Fantasy'],
	  rating:8.2,
	  year:2002,
	  img:'https://cdn.myanimelist.net/images/anime/1378/137310.jpg',
	  summary:'',
	  fav:false,
      likes: 0},
	  { id:41,
	  title:'Tokyo Ghoul',
	  genre:['Dark','Fantasy','Horror','Action','Drama'],
	  rating:6.9,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1545/121995.jpg',
	  summary:'Lâ€™histoire suit Ken Kaneki, un Ã©tudiant timide qui devient Ã  moitiÃ© goule aprÃ¨s une greffe dâ€™organe suite Ã  un accident. Il doit apprendre Ã  vivre dans un monde oÃ¹ humains et goules coexistent, tout en cachant sa vÃ©ritable identitÃ©. Kaneki rejoint les goules du cafÃ© â€œAnteikuâ€, apprend Ã  se dÃ©fendre, Ã  survivre, et dÃ©couvre la violence, la trahison et les dilemmes moraux qui existent entre les deux espÃ¨ces. Lâ€™anime mÃ©lange action, horreur, drame et questionnements sur lâ€™identitÃ© et lâ€™humanitÃ©.',
	  fav:false,
      likes: 0},
	  { id:42,
	  title:'Your Name.',
	  genre:['Romance','Fantasy','Drama','Slice Of Life'],
	  rating:8.8,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/5/87048.jpg',
	  summary:'Lâ€™histoire suit Mitsuha, une lycÃ©enne vivant dans une petite ville de campagne, et Taki, un lycÃ©en Ã  Tokyo. Un jour, ils dÃ©couvrent quâ€™ils Ã©changent mystÃ©rieusement de corps pendant leur sommeil. Au fil du temps, ils apprennent Ã  mieux se connaÃ®tre Ã  travers cette expÃ©rience, crÃ©ent des liens profonds et tentent de se retrouver malgrÃ© la distance et le temps, tout en faisant face Ã  un Ã©vÃ©nement tragique qui menace leur rencontre. Lâ€™anime mÃ©lange romance, Ã©motion, fantastique et suspense.',
	  fav:false,
      likes: 0},
	  { id:43,
	  title:'Steins;Gate',
	  genre:['Science Fiction','Thriller','Drama','Romance'],
	  rating:8.8,
	  year:2011,
	  img:'https://cdn.myanimelist.net/images/anime/1375/93521.jpg',
	  summary:'Lâ€™histoire suit Rintarou Okabe, un scientifique excentrique qui dÃ©couvre avec ses amis comment envoyer des messages dans le passÃ© grÃ¢ce Ã  un micro-ondes modifiÃ©. Rapidement, ils rÃ©alisent que leurs expÃ©riences dÃ©clenchent des changements dangereux dans le temps, attirant lâ€™attention dâ€™une organisation puissante. Okabe doit alors naviguer entre univers parallÃ¨les, paradoxes temporels et pertes personnelles, tout en essayant de protÃ©ger ses amis et de rÃ©parer les consÃ©quences de leurs manipulations. Lâ€™anime mÃªle science-fiction, suspense, drame et romance subtile.',
	  fav:false,
      likes: 0},
	  { id:44,
	  title:'A Silent Voice',
	  genre:['Drama','Romance','Slice Of Life'],
	  rating:8.9,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/1122/96435.jpg',
	  summary:'Lâ€™histoire suit Shoya Ishida, un garÃ§on qui a harcelÃ© Shoko Nishimiya, une Ã©lÃ¨ve sourde, lorsquâ€™ils Ã©taient enfants. En grandissant, Shoya ressent un profond remords et cherche Ã  se racheter. Il tente de reconnecter avec Shoko, de rÃ©parer ses erreurs et de trouver la paix avec lui-mÃªme. Lâ€™anime explore le pardon, la culpabilitÃ©, lâ€™amitiÃ©, lâ€™acceptation de soi et des autres, avec beaucoup dâ€™Ã©motion et de sensibilitÃ©.',
	  fav:false,
      likes: 0},
	  { id:45,
	  title:'No Game, No Life',
	  genre:['Fantasy','Isekai','Adventure','Comedy'],
	  rating:8,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1074/111944.jpg',
	  summary:'Lâ€™histoire suit Sora et Shiro, un frÃ¨re et une sÅ“ur prodiges des jeux vidÃ©o, invincibles en stratÃ©gie et en logique. Un jour, ils sont transportÃ©s dans un monde fantastique appelÃ© Disboard, oÃ¹ tous les conflits, du plus petit au plus grand, se rÃ¨glent par des jeux Ã  enjeux Ã©levÃ©s. Pour devenir les maÃ®tres de ce monde et dÃ©fier le mystÃ©rieux dieu Tet, ils doivent vaincre toutes sortes dâ€™adversaires Ã  travers des jeux de toutes sortes, en combinant intelligence, ruse et audace. Lâ€™anime mÃ©lange action, humour, stratÃ©gie et moments dÃ©lirants.',
	  fav:false,
      likes: 0},
	  { id:46,
	  title:'Code Geass: Lelouch of the Rebellion',
	  genre:['Mecha','Science Fiction','Thriller','Drama'],
	  rating:8.8,
	  year:2006,
	  img:'https://cdn.myanimelist.net/images/anime/1088/135089.jpg',
	  summary:'Lâ€™histoire suit Lelouch Lamperouge, un lycÃ©en brillant vivant dans un monde dominÃ© par lâ€™Empire de Britannia. AprÃ¨s avoir obtenu un pouvoir mystÃ©rieux appelÃ© le Geass, qui lui permet de donner un ordre absolu Ã  nâ€™importe qui, il dÃ©cide de renverser lâ€™Empire pour crÃ©er un monde meilleur pour sa sÅ“ur. Sous le masque de Zero, Lelouch mÃ¨ne une rÃ©bellion mÃªlant stratÃ©gie, manipulation et combats de mechas, tout en faisant face Ã  des choix moraux difficiles et Ã  des sacrifices lourds. Lâ€™anime est connu pour son intensitÃ©, ses retournements de situation et sa fin lÃ©gendaire.',
	  fav:false,
      likes: 0},
	  { id:47,
	  title:'Re:Zero -Starting Life in Another World-',
	  genre:['Isekai','Dark','Fantasy','Drama','Thriller','Psychological'],
	  rating:8.4,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/1040/153636.jpg',
	  summary:'Lâ€™histoire suit Subaru Natsuki, un lycÃ©en ordinaire soudainement transportÃ© dans un monde fantastique. Il dÃ©couvre rapidement quâ€™il possÃ¨de un pouvoir spÃ©cial : revenir dans le temps Ã  chaque fois quâ€™il meurt, en repartant dâ€™un point prÃ©cis. Mais ce pouvoir a un prix Ã©norme : Subaru ressent toutes les douleurs physiques et mentales de ses morts, sans pouvoir en parler Ã  qui que ce soit. CoincÃ© dans une boucle de souffrance, dâ€™Ã©checs et de sacrifices, il tente de protÃ©ger ceux quâ€™il aime, notamment Emilia, dans un univers impitoyable.',
	  fav:false,
      likes: 0},
	  { id:48,
	  title:'Toradora!',
	  genre:['Romance','Comedy','Slice Of Life','School Life'],
	  rating:8,
	  year:2008,
	  img:'https://cdn.myanimelist.net/images/anime/13/22128.jpg',
	  summary:'Lâ€™histoire suit Ryuuji Takasu, un lycÃ©en au visage intimidant mais au cÅ“ur gentil, et Taiga Aisaka, une fille petite et explosive surnommÃ©e le Tigre de poche. Chacun est amoureux du meilleur ami de lâ€™autre, alors ils dÃ©cident de sâ€™entraider pour conquÃ©rir leur crush. Mais Ã  force de passer du temps ensemble, leurs sentiments Ã©voluent, entre disputes, moments drÃ´les et Ã©motions fortes. Lâ€™anime mÃ©lange comÃ©die romantique, drame et passages trÃ¨s touchants sur lâ€™amour et lâ€™amitiÃ©.',
	  fav:false,
      likes: 0},
	  { id:49,
	  title:'Noragami',
	  genre:['Action','Fantasy','Supernatural','Comdedy','Adventure'],
	  rating:8,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1689/94850.jpg',
	  summary:'Lâ€™histoire suit Yato, un dieu mineur fauchÃ© qui rÃªve de devenir cÃ©lÃ¨bre. Pour 5 yens, il accepte nâ€™importe quel job, du plus banal au plus dangereux. Un jour, il rencontre Hiyori, une lycÃ©enne qui se retrouve coincÃ©e entre le monde des vivants et celui des esprits aprÃ¨s un accident. Avec Yukine, son arme divine, Yato affronte des esprits malÃ©fiques tout en essayant de se faire un nom parmi les dieux. Lâ€™anime mÃ©lange action, humour et Ã©motions, avec un univers surnaturel trÃ¨s stylÃ©.',
	  fav:false,
      likes: 0},
	  { id:50,
	  title:'Mob Psycho 100',
	  genre:['Action','Comedy','Supernatural','Slice Of Life','Drama'],
	  rating:8.7,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/1228/125011.jpg',
	  summary:'Lâ€™histoire suit Shigeo â€œMobâ€ Kageyama, un adolescent extrÃªmement puissant psychiquement mais trÃ¨s timide et introverti. Il essaie de mener une vie normale, tout en travaillant pour Reigen, un faux exorciste qui le prend comme assistant. Mob doit apprendre Ã  contrÃ´ler ses pouvoirs, faire face Ã  des esprits dangereux et affronter ses propres Ã©motions refoulÃ©es. Lâ€™anime mÃ©lange action intense, humour dÃ©calÃ© et dÃ©veloppement personnel, avec des moments trÃ¨s touchants et parfois dramatiques.',
	  fav:false,
      likes: 0},
	  { id:51,
	  title:'ERASED',
	  genre:['Thriller','Drama'],
	  rating:8.3,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/10/77957.jpg',
	  summary:'Lâ€™histoire suit Satoru Fujinuma, un jeune homme qui possÃ¨de un pouvoir Ã©trange : lorsquâ€™un drame est sur le point de se produire, il est renvoyÃ© quelques minutes dans le passÃ© pour lâ€™empÃªcher. AprÃ¨s un Ã©vÃ©nement tragique, Satoru est projetÃ© 18 ans en arriÃ¨re, lorsquâ€™il Ã©tait enfant. Il doit alors sauver plusieurs camarades de classe menacÃ©s par un tueur en sÃ©rie, tout en dÃ©couvrant la vÃ©ritÃ© derriÃ¨re ces crimes. Lâ€™anime mÃªle suspense, Ã©motion et voyage dans le temps.',
	  fav:false,
      likes: 0},
	  { id:52,
	  title:'Red Eyes Sword - Akame ga Kill!',
	  genre:['Dark','Fantasy','Action','Drama','Adventure'],
	  rating:7.5,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1429/95946.jpg',
	  summary:'Lâ€™histoire suit Tatsumi, un jeune garÃ§on venu dans la capitale pour gagner de lâ€™argent, mais qui dÃ©couvre rapidement la corruption extrÃªme de lâ€™Empire. Il rejoint alors Night Raid, un groupe dâ€™assassins rÃ©volutionnaires qui lutte pour renverser le pouvoir en place. Aux cÃ´tÃ©s dâ€™Akame et des autres membres, Tatsumi affronte des ennemis puissants Ã  lâ€™aide dâ€™armes spÃ©ciales appelÃ©es Teigu. Lâ€™anime est connu pour sa violence, ses morts choquantes et son ton trÃ¨s sombre, oÃ¹ personne nâ€™est rÃ©ellement Ã  lâ€™abri.',
	  fav:false,
      likes: 0},
	  { id:53,
	  title:'The Seven Deadly Sins',
	  genre:['Fantasy','Action','Adventure'],
	  rating:6.9,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1109/145389.jpg',
	  summary:'Lâ€™histoire se dÃ©roule dans le royaume de Britannia, oÃ¹ les Seven Deadly Sins, un groupe de chevaliers lÃ©gendaires accusÃ©s de trahison, ont Ã©tÃ© dispersÃ©s. La princesse Elizabeth part Ã  leur recherche pour sauver son royaume menacÃ© par les Holy Knights corrompus. Elle rencontre Meliodas, le chef des Seven Deadly Sins, et ensemble ils rassemblent les autres membres pour combattre le mal, dÃ©couvrir la vÃ©ritÃ© sur le passÃ© et protÃ©ger Britannia. Lâ€™anime mÃ©lange action, magie, aventure et humour, avec des combats de plus en plus Ã©piques.',
	  fav:false,
      likes: 0},
	  { id:54,
	  title:'Angel Beats!',
	  genre:['Drama','Supernatural','Action','Comedy'],
	  rating:8.1,
	  year:2010,
	  img:'https://cdn.myanimelist.net/images/anime/1244/111115.jpg',
	  summary:'Lâ€™histoire suit Yuzuru Otonashi, un adolescent qui se rÃ©veille dans un monde entre la vie et la mort, sans aucun souvenir de son passÃ©. Il rejoint un groupe dâ€™Ã©lÃ¨ves qui se rebellent contre une mystÃ©rieuse fille appelÃ©e Angel, afin de comprendre pourquoi ils sont coincÃ©s lÃ . Peu Ã  peu, Otonashi dÃ©couvre que chacun porte des regrets liÃ©s Ã  sa vie passÃ©e, et que ce monde existe pour les aider Ã  trouver la paix. Lâ€™anime mÃ©lange action, humour et Ã©motions trÃ¨s fortes, avec une fin particuliÃ¨rement touchante.',
	  fav:false,
      likes: 0},
	  { id:55,
	  title:'Assassination Classroom',
	  genre:['Action','Comedy','School Life','Science Fiction','Drama'],
	  rating:8.3,
	  year:2015,
	  img:'https://cdn.myanimelist.net/images/anime/8/77966.jpg',
	  summary:'Lâ€™histoire suit la classe 3-E, composÃ©e dâ€™Ã©lÃ¨ves considÃ©rÃ©s comme des ratÃ©s, Ã  qui lâ€™on confie une mission incroyable : assassiner leur professeur, Koro-sensei, une crÃ©ature surpuissante qui menace de dÃ©truire la Terre. Mais contre toute attente, Koro-sensei devient un excellent professeur, aidant ses Ã©lÃ¨ves Ã  reprendre confiance en eux tout en les entraÃ®nant Ã  le tuer. Lâ€™anime mÃ©lange humour, action et Ã©motions, avec un message fort sur lâ€™Ã©ducation, lâ€™Ã©chec et la rÃ©ussite.',
	  fav:false,
      likes: 0},
	  { id:56,
	  title:'Haikyu!!',
	  genre:['Sports','Slice Of Life','Drama'],
	  rating:8.6,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/1453/106768.jpg',
	  summary:'Lâ€™histoire suit Shoyo Hinata, un lycÃ©en passionnÃ© de volley-ball malgrÃ© sa petite taille. Il rejoint le club du lycÃ©e Karasuno, oÃ¹ il retrouve Tobio Kageyama, un passeur gÃ©nial mais difficile, devenu son coÃ©quipier. Ensemble, avec leur Ã©quipe, ils affrontent des rivaux de plus en plus forts, sâ€™entraÃ®nent sans relÃ¢che et apprennent la coopÃ©ration, la persÃ©vÃ©rance et lâ€™esprit dâ€™Ã©quipe. Lâ€™anime est connu pour ses matchs ultra intenses et sa montÃ©e en hype constante. ğŸ”¥',
	  fav:false,
      likes: 0},
	  { id:57,
	  title:'The Promised Neverland',
	  genre:['Thriller','Dark','Fantasy','Horror','Psychological'],
	  rating:6.9,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1815/110626.jpg',
	  summary:'Lâ€™histoire suit Emma, Norman et Ray, des enfants vivant heureux dans un orphelinat isolÃ©. Mais un jour, ils dÃ©couvrent une terrible vÃ©ritÃ© : lâ€™orphelinat cache un secret mortel et les enfants ne sont pas destinÃ©s Ã  Ãªtre adoptÃ©s. DÃ¨s lors, ils doivent utiliser leur intelligence et leur sang-froid pour survivre et organiser une Ã©vasion, tout en faisant face Ã  une gardienne redoutable. Lâ€™anime mÃ©lange suspense, stratÃ©gie et tension psychologique intense.',
	  fav:false,
      likes: 0},
	  { id:58,
	  title:'KonoSuba: Godâ€™s Blessing on This Wonderful World!',
	  genre:['Isekai','Comdedy','Fantasy','Adventure'],
	  rating:8.2,
	  year:2016,
	  img:'https://cdn.myanimelist.net/images/anime/1758/141268.jpg',
	  summary:'Lâ€™histoire suit Kazuma Satou, un ado qui meurt de maniÃ¨re ridicule et se rÃ©incarne dans un monde fantastique. Il part Ã  lâ€™aventure accompagnÃ© dâ€™une Ã©quipe complÃ¨tement dysfonctionnelle : Aqua, une dÃ©esse inutile, Megumin, une mage obsÃ©dÃ©e par une seule attaque ultra puissante, et Darkness, une chevaliÃ¨re maso. Au lieu dâ€™une Ã©popÃ©e hÃ©roÃ¯que classique, Kazuma enchaÃ®ne les galÃ¨res, les quÃªtes ratÃ©es et les situations absurdes. Lâ€™anime est une parodie hilarante des isekai, remplie de chaos et dâ€™humour.',
	  fav:false,
      likes: 0},
	  { id:59,
	  title:'The Future Diary',
	  genre:['Thriller','Horror','Psychological','Action'],
	  rating:7.4,
	  year:2011,
	  img:'https://cdn.myanimelist.net/images/anime/13/33465.jpg',
	  summary:'Lâ€™histoire suit Yukiteru Amano, un adolescent solitaire qui se retrouve plongÃ© dans un jeu de survie organisÃ© par un dieu. Chaque participant possÃ¨de un journal capable de prÃ©dire lâ€™avenir, et le dernier survivant devient le nouveau dieu du temps et de lâ€™espace. Yukiteru sâ€™allie avec Yuno Gasai, une fille obsÃ©dÃ©e par lui et prÃªte Ã  tout pour le protÃ©ger. Lâ€™anime mÃ©lange violence, suspense, folie et retournements de situation, avec une ambiance trÃ¨s sombre et malsaine.',
	  fav:false,
      likes: 0},
	  { id:60,
	  title:'Blue Exorcist',
	  genre:['Action','Fantasy','Supernatural'],
	  rating:7.5,
	  year:2011,
	  img:'https://cdn.myanimelist.net/images/anime/1390/147040.jpg',
	  summary:'Lâ€™histoire suit Rin Okumura, un adolescent qui dÃ©couvre quâ€™il est le fils de Satan. Lorsque son pÃ¨re adoptif meurt en le protÃ©geant, Rin dÃ©cide de devenir exorciste pour combattre les dÃ©mons et sâ€™opposer Ã  son vÃ©ritable pÃ¨re. Il intÃ¨gre une acadÃ©mie dâ€™exorcistes, apprend Ã  maÃ®triser ses pouvoirs dÃ©moniaques et affronte des menaces surnaturelles, tout en luttant contre sa double nature. Lâ€™anime mÃ©lange action, drame et surnaturel, avec des thÃ¨mes sur lâ€™identitÃ© et le choix de son propre chemin.',
	  fav:false,
      likes: 0},
	  { id:61,
	  title:'Cowboy Bebop',
	  genre:['Science Fiction','Western','Action','Drama','Thriller'],
	  rating:8.8,
	  year:1998,
	  img:'https://cdn.myanimelist.net/images/anime/4/19644.jpg',
	  summary:'Lâ€™histoire suit Spike Spiegel et son Ã©quipe de chasseurs de primes Ã  bord du vaisseau Bebop, dans un futur oÃ¹ lâ€™humanitÃ© a colonisÃ© lâ€™espace. Chaque Ã©pisode les plonge dans des missions variÃ©es, des conflits avec le crime organisÃ© et des rencontres avec des personnages hauts en couleur. DerriÃ¨re lâ€™action et lâ€™humour, lâ€™anime explore les passÃ©s douloureux, la solitude et les regrets de chaque personnage, le tout dans une ambiance noir, jazz et space western unique.',
	  fav:false,
      likes: 0},
	  { id:62,
	  title:'Parasyte: The Maxim',
	  genre:['Horror','Science Fiction','Action','Thriller','Psychological'],
	  rating:8.3,
	  year:2014,
	  img:'https://cdn.myanimelist.net/images/anime/3/73178.jpg',
	  summary:'Lâ€™histoire suit Shinichi Izumi, un lycÃ©en dont la main droite est infectÃ©e par un parasite extraterrestre nommÃ© Migi. Contrairement aux autres parasites qui prennent le contrÃ´le total de leur hÃ´te, Shinichi et Migi doivent coexister pour survivre. Ensemble, ils affrontent dâ€™autres parasites qui menacent les humains, tout en explorant des thÃ¨mes profonds sur lâ€™humanitÃ©, la morale et la survie. Lâ€™anime mÃ©lange action, horreur, suspense et drame psychologique.',
	  fav:false,
      likes: 0},
	  { id:63,
	  title:'Spirited Away',
	  genre:['Adventure','Drama'],
	  rating:8.8,
	  year:2001,
	  img:'https://cdn.myanimelist.net/images/anime/6/79597.jpg',
	  summary:'Lâ€™histoire suit Chihiro, une fillette de 10 ans qui, en dÃ©mÃ©nageant avec ses parents, se retrouve dans un monde magique peuplÃ© dâ€™esprits et de crÃ©atures Ã©tranges. Ses parents sont transformÃ©s en cochons, et Chihiro doit travailler dans un bain public dirigÃ© par la sorciÃ¨re Yubaba pour trouver un moyen de les sauver. Au fil de son aventure, elle apprend le courage, la responsabilitÃ© et lâ€™amitiÃ©, tout en dÃ©couvrant un univers mystÃ©rieux, merveilleux et parfois inquiÃ©tant.',
	  fav:false,
      likes: 0},
	  { id:64,
	  title:'Neon Genesis Evangelion',
	  genre:['Mecha','Science Fiction','Psychological','Drama'],
	  rating:8.4,
	  year:1995,
	  img:'https://cdn.myanimelist.net/images/anime/1314/108941.jpg',
	  summary:'Lâ€™histoire se dÃ©roule dans un monde post-apocalyptique oÃ¹ des crÃ©atures mystÃ©rieuses appelÃ©es Anges attaquent lâ€™humanitÃ©. Shinji Ikari, un adolescent distant, est recrutÃ© par lâ€™organisation NERV pour piloter un gigantesque robot appelÃ© Evangelion afin de protÃ©ger la Terre. Au fil des combats, Shinji et les autres pilotes doivent affronter non seulement les Anges, mais aussi leurs propres traumatismes, peurs et relations complexes. Lâ€™anime mÃ©lange action, drame psychologique, philosophie et symbolisme, crÃ©ant une Å“uvre intense et marquante.',
	  fav:false,
      likes: 0},
	  { id:65,
	  title:'Violet Evergarden',
	  genre:['Drama','Romance','Slice Of Life'],
	  rating:8.7,
	  year:2018,
	  img:'https://cdn.myanimelist.net/images/anime/1795/95088.jpg',
	  summary:'Lâ€™histoire suit Violet Evergarden, une jeune femme ancienne soldate qui a grandi dans la guerre et qui a du mal Ã  comprendre ses propres Ã©motions aprÃ¨s avoir perdu son mentor et figure paternelle, Major Gilbert. Elle commence Ã  travailler comme â€œAuto Memory Dollâ€, une personne qui Ã©crit des lettres pour exprimer les sentiments des autres. Au fil de ses missions, Violet apprend Ã  comprendre lâ€™amour, la perte et lâ€™empathie, tout en cherchant Ã  donner un sens Ã  sa propre vie. Lâ€™anime est Ã©motionnel, poÃ©tique et visuellement magnifique.',
	  fav:false,
      likes: 0},
	  { id:66,
	  title:'Dr. Stone',
	  genre:['Science Fiction,','Adventure','Comedy'],
	  rating:8.3,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1860/154514.jpg',
	  summary:'Un jour, toute lâ€™humanitÃ© est pÃ©trifiÃ©e par un phÃ©nomÃ¨ne mystÃ©rieux. Des milliers dâ€™annÃ©es plus tard, Senku Ishigami, un gÃ©nie passionnÃ© de science, se rÃ©veille dans un monde redevenu sauvage. Avec ses amis, il dÃ©cide de reconstruire la civilisation Ã  partir de zÃ©ro en utilisant uniquement la science : Ã©lectricitÃ©, mÃ©decine, technologieâ€¦ tout y passe. Lâ€™anime mÃ©lange aventure, humour et explications scientifiques, avec un message fort sur le progrÃ¨s et lâ€™intelligence humaine.',
	  fav:false,
      likes: 0},
	  { id:67,
	  title:'Death Parade',
	  genre:['Psychological','Drama','Thriller'],
	  rating:8.1,
	  year:2015,
	  img:'https://cdn.myanimelist.net/images/anime/5/71553.jpg',
	  summary:'Lâ€™histoire se dÃ©roule dans un bar mystÃ©rieux appelÃ© Quindecim, oÃ¹ arrivent des personnes juste aprÃ¨s leur mort. Elles doivent participer Ã  des jeux cruels (flÃ©chettes, bowling, cartesâ€¦) qui rÃ©vÃ¨lent leur vÃ©ritable nature sous la pression. Le barman Decim agit comme arbitre et dÃ©cide si les Ã¢mes seront rÃ©incarnÃ©es ou envoyÃ©es dans le nÃ©ant. Au fil des Ã©pisodes, lâ€™anime explore la morale, la culpabilitÃ©, les regrets et la complexitÃ© de lâ€™Ã¢me humaine, avec une ambiance sombre et poignante.',
	  fav:false,
      likes: 0},
	  { id:68,
	  title:'Black Clover',
	  genre:['Fantasy','Action','Adventure'],
	  rating:8.1,
	  year:2017,
	  img:'https://cdn.myanimelist.net/images/anime/1717/154518.jpg',
	  summary:'Lâ€™histoire se dÃ©roule dans un monde oÃ¹ la magie est essentielle. Asta, un garÃ§on nÃ© sans aucun pouvoir magique, rÃªve pourtant de devenir Roi Sorcier, le mage le plus puissant du royaume. GrÃ¢ce Ã  son anti-magie et Ã  un grimoire rare, Asta rejoint les Chevaliers-Mages aux cÃ´tÃ©s de son rival Yuno. Ensemble, ils affrontent des ennemis toujours plus forts, des dÃ©mons et des complots, dans un anime rempli de combats intenses, dâ€™amitiÃ© et de dÃ©passement de soi.',
	  fav:false,
      likes: 0},
	  { id:69,
	  title:'Spy x Family',
	  genre:['Comedy','Action','Slice Of Life'],
	  rating:8.2,
	  year:2022,
	  img:'https://cdn.myanimelist.net/images/anime/1697/151793.jpg',
	  summary:'Lâ€™histoire suit Twilight, le meilleur espion du monde, chargÃ© dâ€™une mission cruciale : former une famille pour infiltrer une Ã©cole dâ€™Ã©lite. Il adopte Anya, une petite fille tÃ©lÃ©pathe, et Ã©pouse Yor, une femme qui cache en rÃ©alitÃ© Ãªtre une assassine professionnelle. Aucun dâ€™eux ne connaÃ®t le secret des autres (sauf Anya ğŸ˜ˆ). Ensemble, ils forment une fausse famille ultra dysfonctionnelle, mais peu Ã  peu, de vrais liens se crÃ©ent. Lâ€™anime mÃ©lange humour, action et moments super touchants. â¤ï¸',
	  fav:false,
      likes: 0},
	  { id:70,
	  title:'Kill la Kill',
	  genre:['Action','Comedy','Science Fiction','Ecchi'],
	  rating:8,
	  year:2013,
	  img:'https://cdn.myanimelist.net/images/anime/1464/111943.jpg',
	  summary:'Lâ€™histoire suit Ryuko Matoi, une lycÃ©enne rebelle qui cherche Ã  venger la mort de son pÃ¨re. Elle arrive Ã  lâ€™acadÃ©mie HonnÅji, dirigÃ©e dâ€™une main de fer par Satsuki Kiryuin, oÃ¹ les Ã©lÃ¨ves portent des uniformes vivants leur donnant des pouvoirs. Ryuko sâ€™allie avec Senketsu, un uniforme parlant, et affronte des adversaires toujours plus puissants. DerriÃ¨re le dÃ©lire visuel et lâ€™action survoltÃ©e, lâ€™anime parle dâ€™identitÃ©, de libertÃ© et de contrÃ´le, le tout avec un style complÃ¨tement dÃ©jantÃ© ğŸ”¥',
	  fav:false,
      likes: 0},
	  { id:71,
	  title:'JoJoâ€™s Bizarre Adventure',
	  genre:['Action','Adventure','Supernatural','Fantasy'],
	  rating:8.3,
	  year:2012,
	  img:'https://cdn.myanimelist.net/images/anime/1882/94989.jpg',
	  summary:'Lâ€™anime suit la lignÃ©e de la famille Joestar, chaque partie mettant en scÃ¨ne un nouveau hÃ©ros surnommÃ© â€œJoJoâ€, Ã  diffÃ©rentes Ã©poques. Tous affrontent des ennemis redoutables, souvent liÃ©s Ã  la famille et Ã  des pouvoirs surnaturels. De Jonathan Joestar Ã  Jotaro Kujo (et bien dâ€™autres), chaque arc a son ambiance, son systÃ¨me de pouvoirs et ses antagonistes cultes. JoJo est connu pour ses combats intelligents, son charisme et son style complÃ¨tement unique.',
	  fav:false,
      likes: 0},
	  { id:72,
	  title:'DARLING in the FRANXX',
	  genre:['Mecha','Science Fiction','Romance','Drama'],
	  rating:7.2,
	  year:2018,
	  img:'https://cdn.myanimelist.net/images/anime/1614/90408.jpg',
	  summary:'Dans un futur lointain, lâ€™humanitÃ© vit dans des citÃ©s protÃ©gÃ©es et combat des monstres appelÃ©s Klaxosaurs Ã  lâ€™aide de robots gÃ©ants, les FRANXX, pilotÃ©s en duo. Hiro, ancien prodige devenu inutile, rencontre Zero Two, une pilote mystÃ©rieuse mi-humaine mi-monstre. Ensemble, ils forment un duo exceptionnel et dÃ©veloppent une relation intense, tout en dÃ©couvrant la vÃ©ritÃ© sur leur monde, leur sociÃ©tÃ© et leur propre identitÃ©. Lâ€™anime mÃ©lange action, romance forte et drame, avec une ambiance Ã©motionnelle trÃ¨s marquÃ©e. ğŸ’”ğŸ”¥',
	  fav:false,
      likes: 0},
	  { id:73,
	  title:'Another',
	  genre:['Horror','Thriller','Mystery','School Life', 'Drama'],
	  rating:7.5,
	  year:2012,
	  img:'https://cdn.myanimelist.net/images/anime/4/75509.jpg',
	  summary:'Lâ€™histoire suit KÅichi Sakakibara, un Ã©lÃ¨ve transfÃ©rÃ© dans la classe 3-3 du collÃ¨ge Yomiyama. Il dÃ©couvre que cette classe est maudite : depuis 26 ans, des Ã©lÃ¨ves et leurs proches meurent dans dâ€™Ã©tranges accidents. Avec lâ€™aide de Mei Misaki, une mystÃ©rieuse camarade, KÅichi tente de percer le secret de la malÃ©diction et dâ€™empÃªcher dâ€™autres morts. Lâ€™anime mÃ©lange suspense, horreur et drame, avec une ambiance lourde et angoissante.',
	  fav:false,
      likes: 0},
	  { id:74,
	  title:'Vinland Saga',
	  genre:['Action','Drama','Adventure'],
	  rating:8.8,
	  year:2019,
	  img:'https://cdn.myanimelist.net/images/anime/1170/124312.jpg',
	  summary:'Lâ€™histoire suit Thorfinn, un jeune Viking qui cherche Ã  venger la mort de son pÃ¨re en poursuivant Askeladd, le chef du groupe responsable. Au fil des combats et des voyages, Thorfinn dÃ©couvre les horreurs de la guerre, la complexitÃ© des hommes et le vrai sens de la vie. Lâ€™anime est connu pour ses scÃ¨nes de bataille rÃ©alistes, ses personnages profonds et son intrigue intense.',
	  fav:false,
      likes: 0},
	  { id:75,
	  title:'Soul Eater',
	  genre:['Action','Comedy','Supernatural'],
	  rating:7.9,
	  year:2008,
	  img:'https://cdn.myanimelist.net/images/anime/1071/149486.jpg',
	  summary:'',
	  fav:false,
      likes: 0}
	];
	

	const genreEl = document.getElementById('genre');
	const sortEl = document.getElementById('sort');
	const favFilterEl = document.getElementById('favFilter');
	const grid = document.getElementById('grid');
	const searchInput = document.getElementById('search');
	const empty = document.getElementById('empty');
	const modalRoot = document.getElementById('modalRoot');
	const urlParams = new URLSearchParams(window.location.search);
	const favFromUrl = urlParams.get("fav"); // "1" ou null
	let genreFromUrl = urlParams.get('genre'); // ex: "Action" ou null
	const loadingMessages = [
	  "â³ Kira observeâ€¦ chargement des animes en cours",
	  "ğŸ““ Le Death Note sâ€™ouvreâ€¦ prÃ©paration de lâ€™univers",
	  "ğŸ‘ï¸ Ryuk rigole pendant que les animes arrivent",
	  "âš–ï¸ La justice prend formeâ€¦ chargement des donnÃ©es",
	  "ğŸ§± Les murs tremblentâ€¦ les animes arrivent",
	  "âš”ï¸ Le Bataillon dâ€™Exploration prÃ©pare la page",
	  "ğŸ‘ï¸ Eren regarde lâ€™horizonâ€¦ chargement en cours",
	  "ğŸ©¸ La libertÃ© a un prixâ€¦ donnÃ©es en cours de dÃ©ploiement",
	  "ğŸŸ  Chargement en coursâ€¦ le ki monte",
	  "ğŸŒŒ Voyage vers Namekâ€¦ encore un instant",
	  "ğŸ‰ Shenron est invoquÃ©â€¦ prÃ©paration des animes",
	  "ğŸ©¸ La mort nâ€™est pas la finâ€¦ chargement",
	  "ğŸ•¯ï¸ Echidna observeâ€¦ patience",
	];

	const loadingEl = document.getElementById("loading");

	if (loadingEl) {
	  const randomMessage =
		loadingMessages[Math.floor(Math.random() * loadingMessages.length)];
	  loadingEl.textContent = randomMessage;
	}
	// Remplir select genres
	const genres = new Set(['Tout']);
	SAMPLE_ANIMES.forEach(a => a.genre.forEach(g => genres.add(g)));
	genres.forEach(g => { const o = document.createElement('option'); o.textContent=o.value=g; genreEl.appendChild(o); });
	
	// ğŸ”— Synchroniser le select genre avec l'URL (Ã‰TAPE 2)
	if (genreFromUrl) {
	  const exists = [...genreEl.options].some(
		opt => opt.value === genreFromUrl
	  );

	  if (exists) {
		genreEl.value = genreFromUrl;
	  }
	}
	const ITEMS_PER_LOAD = 6; // combien de cartes Ã  charger Ã  chaque fois
	let currentIndex = 0; // index de dÃ©part pour le rendu
	let filteredList = []; // liste filtrÃ©e aprÃ¨s recherche/tri

	function openAnime(id) {
	  window.location.href = `anime.html?id=${id}`;
	}
	function renderList(list){
	  grid.innerHTML = '';
	  if(!list.length){ empty.style.display='block'; return; }
	  empty.style.display='none';

	  list.forEach((a, index) => {
		  const card = document.createElement('div'); 
		  card.className = 'card';
		  card.style.animationDelay = `${index * 0.08}s`; // 0.08s entre chaque carte
		  card.innerHTML = `
			<img src="${a.img}" alt="${a.title}">
			<div class="card-body">
			  <div class="meta"><div class="genres">${a.genre.join(' â€¢ ')}</div><div class="rating">${a.rating.toFixed(1)}</div></div>
			  <div class="title">${a.title}</div>
			  <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
				<div style="color:var(--muted); font-size:13px">${a.year}</div>
				<div style="display:flex; gap:6px;">
				  <button class="fav-btn" data-id="${a.id}">${a.fav?'â˜…':'â˜†'}</button>
				  <button onclick="openAnime(${a.id})">Voir</button>
				</div>
			  </div>
			</div>`;
		  grid.appendChild(card);
		});
	  // Modale et favoris
	  grid.querySelectorAll('.fav-btn').forEach(b => b.addEventListener('click', e=>{
		e.stopPropagation(); toggleFavorite(Number(b.dataset.id));
	  }));
	}
	function renderNextBatch() {
	  const grid = document.getElementById('grid');
	  if (currentIndex >= filteredList.length) return;

	  const nextBatch = filteredList.slice(currentIndex, currentIndex + ITEMS_PER_LOAD);
	  nextBatch.forEach((a, index) => {
		const card = document.createElement('div');
		card.className = 'card';
		card.style.animationDelay = `${(currentIndex + index) * 0.08}s`;

		card.innerHTML = `
		  <img src="${a.img}" alt="${a.title}">
		  <div class="card-body">
			<div class="meta">
			  <div class="genres">${a.genre.join(' â€¢ ')}</div>
			  <div class="rating">${a.rating.toFixed(1)}</div>
			</div>
			<div id="activeGenre" class="active-genre hidden"></div>
			<div class="title">
			  ${a.title}
			  ${a.likes >= 3 ? `<span class="badge-trending">ğŸ”¥ Tendance</span>` : ''}
			</div>

			<div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
			  <div style="color:var(--muted); font-size:13px">${a.year}</div>

			  <div style="display:flex; gap:6px; align-items:center;">
				<button class="fav-btn" data-id="${a.id}">${a.fav ? 'â˜…' : 'â˜†'}</button>
				<button class="btn" onclick="openAnime(${a.id})">Voir</button>
			  </div>
			</div>
		  </div>
		`;

		grid.appendChild(card);
	  });

	  currentIndex += ITEMS_PER_LOAD;
	  
	  // Afficher message si plus de rÃ©sultats
	  empty.style.display = currentIndex >= filteredList.length && filteredList.length === 0 ? 'block' : 'none';
	}
	function openModal(a){
	  modalRoot.innerHTML = `
		<div class="modal-backdrop" id="backdrop">
		  <div class="modal">
			<img src="${a.img}" alt="${a.title}">
			<div class="info">
			  <h2 style="margin:0 0 6px">${a.title}</h2>
			  <div style="color:var(--muted); margin-bottom:10px">
				${a.genre.join(' â€¢ ')} â€¢ ${a.year}
			  </div>
			  <p style="margin:0 0 12px; line-height:1.5; color:#dbeafe;">
				${a.summary}
			  </p>
			  <div style="display:flex; gap:8px; align-items:center">
				<div class="rating">${a.rating.toFixed(1)}</div>
				<button class="close" id="closeModal">Fermer</button>
			  </div>
			</div>
		  </div>
		</div>
	  `;

	  modalRoot.style.display = 'block';

	  document.getElementById('closeModal').onclick = closeModal;
	  document.getElementById('backdrop').onclick = (e) => {
		if (e.target.id === 'backdrop') closeModal();
	  };
	}

	function closeModal(){
	  modalRoot.style.display = 'none';
	  modalRoot.innerHTML = '';
	}
	// ğŸ”¹ ouverture modale via URL (?anime=ID)
	const params = new URLSearchParams(window.location.search);
	const animeId = params.get("anime");

	if (animeId) {
	  const anime = SAMPLE_ANIMES.find(a => a.id == animeId);
	  if (anime && typeof openModal === "function") {
		openModal(anime);

		// optionnel : nettoyer l'URL
		window.history.replaceState({}, "", "index.html");
	  }
	}
	function applyFilters() {
	  const q = searchInput.value.toLowerCase();
	  const g = genreEl.value;
	  const s = sortEl.value;
	  const f = favFilterEl.value;

	  filteredList = SAMPLE_ANIMES.filter(a =>
		a.title.toLowerCase().includes(q)
	  );

	  // ğŸ”¹ FILTRE GENRE (select)
	  if (g !== 'Tout') {
		filteredList = filteredList.filter(a => a.genre.includes(g));
	  }

	  // ğŸ”¥ FILTRE GENRE (URL) â€” AJOUT ICI
	  if (genreFromUrl) {
		filteredList = filteredList.filter(a =>
		  a.genre.includes(genreFromUrl)
		);
	  }

	  // ğŸ”¹ FAVORIS
	  if (f === 'fav') {
		filteredList = filteredList.filter(a => a.fav);
	  }
	  if (favFromUrl === "1") {
	    favFilterEl.value = "fav";
	  }

	  // ğŸ”¹ TRI
	  if (s === 'top') filteredList.sort((a, b) => b.rating - a.rating);
	  if (s === 'new') filteredList.sort((a, b) => b.year - a.year);
	  if (s === 'az') filteredList.sort((a, b) => a.title.localeCompare(b.title));
	  if (s === 'za') filteredList.sort((a, b) => b.title.localeCompare(a.title));
	  if (s === 'popular') {
		filteredList.sort((a, b) => (b.likes || 0) - (a.likes || 0));
	  }

	  // ğŸ”¹ RESET AFFICHAGE
	  currentIndex = 0;
	  grid.innerHTML = '';
	  renderNextBatch();
	}
	searchInput.addEventListener('input', applyFilters);
	genreEl.addEventListener('change', () => {
	  const selected = genreEl.value;

	  if (selected === 'Tout') {
		genreFromUrl = null;
		urlParams.delete('genre');
	  } else {
		genreFromUrl = selected;
		urlParams.set('genre', selected);
	  }

	  const newUrl =
		window.location.pathname +
		(urlParams.toString() ? '?' + urlParams.toString() : '');

	  window.history.replaceState({}, '', newUrl);

	  applyFilters();
	});
	sortEl.addEventListener('change', applyFilters);
	favFilterEl.addEventListener('change', applyFilters);
	
	const backToTop = document.getElementById('backToTop');
	window.addEventListener('scroll', () => {
	  if (window.scrollY > 50) {
		backToTop.classList.add('show');
		backToTop.classList.remove('hide');
	  } else {
		backToTop.classList.add('hide');
		setTimeout(() => backToTop.classList.remove('show'), 200);
	  }
	});
	backToTop.addEventListener('click', () => {
	  window.scrollTo({ top: 0, behavior: 'smooth' });
	});
	window.AnimeHub = { SAMPLE_ANIMES, renderList, applyFilters };
	window.addEventListener('scroll', () => {
	  if(window.scrollY > 20){
		document.querySelector('header').classList.add('sticky');
	  } else {
		document.querySelector('header').classList.remove('sticky');
	  }

	  // Infinite scroll
	  if(window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) {
		renderNextBatch();
	  }
	});
	const authModal = document.getElementById("authModal");
	const authTitle = document.getElementById("authTitle");
	const authSubmit = document.getElementById("authSubmit");
	const authEmail = document.getElementById("authEmail");
	const authPassword = document.getElementById("authPassword");

	document.getElementById("authClose").onclick = () => {
	  authModal.style.display = "none";
	};
	applyFilters();
  </script>
  <script type="module">
      import { 
          initializeApp 
      } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
      import { 
          getAuth, onAuthStateChanged, signOut 
      } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
	  import { getFirestore, doc, getDoc, setDoc, updateDoc, arrayUnion, arrayRemove, increment, collection, getDocs, deleteField, query, where, orderBy, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";
	  
      const firebaseConfig = {
          apiKey: "AIzaSyCaJZi1Bn1vbeKOC5cM3Gi6nOFyWaH4NK4",
          authDomain: "animehub-7.firebaseapp.com",
          projectId: "animehub-7",
          storageBucket: "animehub-7.firebasestorage.app",
          messagingSenderId: "159114039206",
          appId: "1:159114039206:web:0461d676e7ffff25c4c967",
          measurementId: "G-6K4MB0XQEV"
      };

      const app = initializeApp(firebaseConfig);
      const userBox = document.getElementById("userBox");
      const username = document.getElementById("username");

      const openLogin = document.getElementById("openLogin");
      const openSignup = document.getElementById("openSignup");
	  const db = getFirestore(app);
	  const auth = getAuth(app);
	  const grid = document.getElementById("grid"); // ou le bon id
	  const notifBadge = document.getElementById("notifBadge");
	  const notifDropdown = document.getElementById("notifDropdown");
	  const notifList = document.getElementById("notifList");
	  const urlParams = new URLSearchParams(window.location.search);
	  const genreFilter = urlParams.get("genre"); // null si aucun
	  const notifBtn = document.getElementById("notifBtn");


	  
	  let notifVisible = false;
	  
	  notifBtn.addEventListener("click", () => {
	    notifDropdown.style.display =
		  notifDropdown.style.display === "none" ? "block" : "none";
	  });
	  userBox.addEventListener("click", () => {
        window.location.href = "profile.html";
      });

	  onAuthStateChanged(auth, async (user) => {
	    if (user) {
		  if (openLogin) openLogin.style.display = "none";
		  if (openSignup) openSignup.style.display = "none";
		  userBox.style.display = "flex";
		  await loadFavorites();
		  await loadPopularity();
		  await loadRatings();
		  await loadNotifications(user.uid);
		  await loadAnimes();
		  applyFilters();
		  try {
		    const userDocRef = doc(db, "users", user.uid);
		    const userSnap = await getDoc(userDocRef);

		    if (userSnap.exists()) {
		      const data = userSnap.data();
			  username.textContent = data.username || user.email.split("@")[0];
		    } else {
			  // CrÃ©e le doc Firestore si inexistant (utile pour comptes crÃ©Ã©s avant Firestore)
			  const userData = {
			    username: user.email.split("@")[0],
			    email: user.email,
			    favorites: [],
			    ratings: {}
			  };
			  await setDoc(userDocRef, userData);
			  username.textContent = userData.username;
		    }

		  } catch (err) {
		    console.error("Erreur rÃ©cupÃ©ration Firestore:", err);
		    username.textContent = user.email.split("@")[0]; // fallback
		  }

	    } else {
		  if (openLogin) openLogin.style.display = "inline-block";
		  if (openSignup) openSignup.style.display = "inline-block";
		  userBox.style.display = "none";
		  window.location.href = "auth.html";
	    }
	  });
	  async function sendNotification(userId, title, message = "") {
	    try {
		  await addDoc(collection(db, "notifications"), {
		    userId: userId,
		    title: title,
		    message: message,
		    read: false,
		    createdAt: serverTimestamp()
		  });
		  await loadNotifications(userId);
	    } catch (err) {
		  console.error("Erreur notification:", err);
	    }
	  }

	  async function toggleFavorite(animeId) {
	    const user = auth.currentUser;
	    if (!user) {
		  alert("Connecte-toi pour ajouter un favori !");
		  return;
	   }

	    const anime = SAMPLE_ANIMES.find(a => a.id === animeId);
	    if (!anime) return;

	    const userRef = doc(db, "users", user.uid);
	    const animeRef = doc(db, "animes", String(animeId));

	    const wasFav = anime.fav;
	    anime.fav = !wasFav;

	    try {
		  // ğŸ”¹ S'assurer que le doc anime existe
		  const snap = await getDoc(animeRef);
		  if (!snap.exists()) {
		    await setDoc(animeRef, { likes: 0 }, { merge: true });
		  }

		  // ğŸ”¹ Mettre Ã  jour les favoris de l'utilisateur
		  if (!wasFav) {
		    await updateDoc(userRef, { favorites: arrayUnion(animeId) });
		    await updateDoc(animeRef, { likes: increment(1) });
			await sendNotification(user.uid, `Tu as ajoutÃ© ${anime.title} Ã  tes favoris !`);
		  } else {
		    await updateDoc(userRef, { favorites: arrayRemove(animeId) });
		    await updateDoc(animeRef, { likes: increment(-1) });
		  }
	    } catch (err) {
		  console.error("Erreur toggleFavorite:", err);
	    }
		if (anime.likes === 3) {
		  sendNotificationToAllUsers(
			"ğŸ”¥ Anime tendance",
			anime.title
		  );
		}

	    // ğŸ”¹ Mettre Ã  jour l'UI
	    const btn = document.querySelector(`.fav-btn[data-id="${animeId}"]`);
	    if (btn) btn.textContent = anime.fav ? "â˜…" : "â˜†";
		
		applyFilters();
	  }
	  window.toggleFavorite = toggleFavorite;

	  // Modale
	  grid.addEventListener('click', e => {
	    if (e.target.classList.contains('btn')) {
		  const id = Number(e.target.dataset.id);
		  const anime = filteredList.find(a => a.id === id);
		  if (anime) openModal(anime);
	    }
	  });

	  // Favoris
	  grid.addEventListener('click', e => {
	   if (e.target.classList.contains('fav-btn')) {
		  e.stopPropagation();
		  const id = Number(e.target.dataset.id);
		  toggleFavorite(id);
	    }
	  });
	  async function loadFavorites() {
	    const user = auth.currentUser;
	    if (!user) return;

	    const userRef = doc(db, "users", user.uid);
	    const snap = await getDoc(userRef);

	    if (!snap.exists()) return;

	    const data = snap.data();
	    if (!Array.isArray(data.favorites)) return;

	    // ğŸ”¥ Synchronisation Firestore â†’ UI
	    SAMPLE_ANIMES.forEach(anime => {
		  anime.fav = data.favorites.includes(anime.id);
	    });
	  }
	  
	  async function loadPopularity() {
	    const snap = await getDocs(collection(db, "animes"));

	    snap.forEach(docSnap => {
		  const animeId = Number(docSnap.id);
		  const data = docSnap.data();

		  const anime = SAMPLE_ANIMES.find(a => a.id === animeId);
		  if (anime) {
		    anime.likes = data.likes ?? 0;
		  }
	    });
	  }
	  
	  async function loadRatings() {
	    const snap = await getDocs(collection(db, "animes"));

	    snap.forEach(docSnap => {
		  const animeId = Number(docSnap.id);
		  const data = docSnap.data();

		  const anime = SAMPLE_ANIMES.find(a => a.id === animeId);
		  if (anime && data.avgRating !== undefined) {
		    anime.rating = data.avgRating;
		  }
	    });
	  }
	  
	  async function loadUserRatings() {
	    const user = auth.currentUser;
	    if (!user) return;

	    const userRef = doc(db, "users", user.uid);
	    const snap = await getDoc(userRef);
	    if (!snap.exists()) return;

	    const ratings = snap.data().ratings || {};

	    SAMPLE_ANIMES.forEach(anime => {
	   	  anime.userRating = ratings[anime.id] ?? null;
	    });
	  }
	  
	  async function loadNotifications(userId) {
	    const notifCol = collection(db, "notifications");
	    const q = query(notifCol, where("userId", "==", userId), orderBy("createdAt", "desc"));
	    const snapshot = await getDocs(q);
	    notifList.innerHTML = "";
	  
	    let unreadCount = 0;
	  
	    snapshot.docs.forEach(docSnap => {
		  const notif = docSnap.data();
		  const li = document.createElement("li");
		  li.innerHTML = `
		    <strong>${notif.title}</strong><br>
		    <span style="font-size: 0.85em; opacity: 0.8;">
			  ${notif.message}
		    </span>
		  `;

		  // Si non lu, on peut mettre un style
		  if(!notif.read) {
		    li.style.fontWeight = "700";
		    unreadCount++;
		  }
		
		  li.addEventListener("click", async () => {
		    // Marquer comme lu
		    await updateDoc(doc(db, "notifications", docSnap.id), { read: true });
		    li.style.fontWeight = "400";
		    loadNotifications(userId); // reload pour mettre Ã  jour le badge
		  });
		
		  notifList.appendChild(li);
	    });
	  
	    notifBadge.textContent = unreadCount;
	    if(unreadCount > 0) notifBadge.classList.add("show");
	    else notifBadge.classList.remove("show");
	  }
	  async function sendNotificationToAllUsers(title, message = "") {
	    if (!title) {
		  console.warn("âŒ Notification annulÃ©e : title manquant");
		  return;
	    }

	    const usersSnap = await getDocs(collection(db, "users"));
	    const promises = [];

	    usersSnap.forEach(userDoc => {
		  promises.push(
		    addDoc(collection(db, "notifications"), {
			  userId: userDoc.id,
			  title: title,
			  message: message,
			  read: false,
			  createdAt: serverTimestamp()
		    })
		  );
	    });

	    await Promise.all(promises);
	    console.log("âœ… Notification envoyÃ©e Ã  tous les utilisateurs");
	  }

	  async function sendSiteUpdateNotification(version, message) {
	    const metaRef = doc(db, "meta", "lastSiteUpdate");
	    const snap = await getDoc(metaRef);
 
	    // EmpÃªche d'envoyer 2 fois la mÃªme mise Ã  jour
	    if (snap.exists() && snap.data().version === version) return;

	    const usersSnap = await getDocs(collection(db, "users"));

	    const promises = [];
	    usersSnap.forEach(userDoc => {
	  	  promises.push(
		    addDoc(collection(db, "notifications"), {
			  userId: userDoc.id,
			  title: `ğŸš€ Mise Ã  jour du site (${version})`,
			  message: message,
			  read: false,
			  createdAt: serverTimestamp()
		    })
		  );
	    });

	    await Promise.all(promises);

	    await setDoc(metaRef, {
		  version,
		  createdAt: serverTimestamp()
	    });

	    console.log("âœ… Notification de mise Ã  jour envoyÃ©e");
	  }
	  async function notifyNewAnimeOnce(animeId, animeTitle) {
	    const metaRef = doc(db, "meta", `anime_${animeId}`);
	    const snap = await getDoc(metaRef);

	    // â›” DÃ©jÃ  notifiÃ© â†’ on stop
	    if (snap.exists()) return;

	    const usersSnap = await getDocs(collection(db, "users"));

	    const promises = [];
	    usersSnap.forEach(userDoc => {
		  promises.push(
		    addDoc(collection(db, "notifications"), {
			  userId: userDoc.id,
			  title: "ğŸ†• Nouvel anime ajoutÃ©",
			  message: animeTitle,
			  read: false,
			  createdAt: serverTimestamp()
		    })
	  	  );
	    });

	    await Promise.all(promises);

	    // ğŸ”’ Marque cet anime comme "dÃ©jÃ  notifiÃ©"
	    await setDoc(metaRef, {
		  animeId,
		  animeTitle,
		  createdAt: serverTimestamp()
	    });

	    console.log(`âœ… Notification envoyÃ©e pour l'anime : ${animeTitle}`);
	  }
	  async function loadAnimes() {
	    const animesCol = collection(db, "animes");
	    const snapshot = await getDocs(animesCol);

	    const animes = snapshot.docs.map(docSnap => {
		  const data = docSnap.data();
		  return {
		    id: Number(docSnap.id),
		    title: data.title,
		    genre: data.genre || [],
		    img: data.img,
		    rating: data.avgRating || 0,
		    likes: data.likes || 0
		  };
	    });

	    const grid = document.getElementById('grid');
	    const loading = document.getElementById('loading');

	    loading.style.display = "none";
	    grid.style.display = "grid";
	  }

	  function updateFavoriteButtons() {
	    grid.querySelectorAll('.fav-btn').forEach(b => {
		  const id = Number(b.dataset.id);
		  const anime = filteredList.find(a => a.id === id);
		  if (anime && anime.isFavorite) {
		    b.classList.add('favorited'); // ou ton style CSS
		  } else {
		    b.classList.remove('favorited');
		  }
		})
	  };
	  const updateMessage = `De nouvelles fonctionnalitÃ©s dÃ©barquent sur AnimeHub ! ğŸ‰
		- Phrase de chargement et animations pour les cartes.
		- Interface responsive et design modernisÃ©.
		- AmÃ©lioration de la page anime

		Profite de toutes ces nouveautÃ©s et continue dâ€™explorer ton univers anime prÃ©fÃ©rÃ© !`;

		// Appel de la fonction avec un numÃ©ro de version unique
		sendSiteUpdateNotification("1.1.0", updateMessage);

	  await sendNotificationToAllUsers
	  await sendSiteUpdateNotification;
	  await notifyNewAnimeOnce('65', 'Violet Evergarden')
  </script>
</body>
</html>
